{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrbuenaventura/Windsurf/Mesanova/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrbuenaventura/Windsurf/Mesanova/app/ofertas/page.tsx"],"sourcesContent":["import { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Percent, Tag, TrendingDown, Package } from \"lucide-react\"\nimport Link from \"next/link\"\nimport { createClient } from \"@/lib/supabase/server\"\nimport Image from \"next/image\"\n\nexport const metadata = {\n  title: \"Ofertas - Mesanova\",\n  description: \"Descubre nuestras mejores ofertas y promociones en productos para cocina, mesa y hogar\",\n}\n\nexport default async function OfertasPage() {\n  const supabase = await createClient()\n\n  const { data: ofertas } = await supabase\n    .from(\"products\")\n    .select(`\n      *,\n      categories(\n        subcategory:subcategories(\n          name,\n          silo:silos(name, slug)\n        )\n      ),\n      warehouse_stock(available_quantity)\n    `)\n    .eq(\"is_on_sale\", true)\n    .eq(\"is_active\", true)\n    .order(\"created_at\", { ascending: false })\n    .limit(12)\n  return (\n    <main className=\"min-h-screen bg-background\">\n      <section className=\"py-12 px-4 bg-gradient-to-b from-destructive/10 to-background\">\n        <div className=\"container mx-auto\">\n          <div className=\"flex items-center justify-center gap-3 mb-4\">\n            <Percent className=\"h-8 w-8 text-destructive\" />\n            <h1 className=\"text-4xl md:text-5xl font-bold\">Ofertas Especiales</h1>\n          </div>\n          <p className=\"text-center text-lg text-muted-foreground max-w-2xl mx-auto\">\n            Aprovecha nuestros descuentos exclusivos en productos seleccionados. Ofertas limitadas mientras dure el\n            stock.\n          </p>\n        </div>\n      </section>\n\n      <section className=\"py-12 px-4\">\n        <div className=\"container mx-auto\">\n          <div className=\"flex items-center gap-4 mb-8\">\n            <Tag className=\"h-5 w-5 text-primary\" />\n            <h2 className=\"text-2xl font-bold\">Productos en Oferta</h2>\n          </div>\n\n          {!ofertas || ofertas.length === 0 ? (\n            <Card className=\"p-12\">\n              <div className=\"text-center\">\n                <Package className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                <h3 className=\"text-lg font-semibold mb-2\">No hay ofertas disponibles</h3>\n                <p className=\"text-muted-foreground mb-4\">\n                  Actualmente no tenemos productos en oferta. Vuelve pronto para ver nuestras promociones.\n                </p>\n                <Button asChild variant=\"outline\">\n                  <Link href=\"/productos\">Ver todos los productos</Link>\n                </Button>\n              </div>\n            </Card>\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {ofertas.map((producto) => {\n                const totalStock = producto.warehouse_stock?.reduce((sum: number, ws: any) => sum + ws.available_quantity, 0) || 0\n                const primaryCategory = producto.categories?.find((c: any) => c.is_primary)\n                const siloSlug = primaryCategory?.subcategory?.silo?.slug || \"productos\"\n                const categoryName = primaryCategory?.subcategory?.silo?.name || \"Producto\"\n                \n                const originalPrice = producto.precio || 0\n                const discountPercentage = producto.discount_percentage || 20\n                const discountPrice = originalPrice * (1 - discountPercentage / 100)\n\n                return (\n                  <Card key={producto.id} className=\"overflow-hidden group\">\n                    <div className=\"relative h-48 w-full\">\n                      {producto.imagen_principal_url ? (\n                        <Image\n                          src={producto.imagen_principal_url}\n                          alt={producto.nombre_comercial || producto.pdt_descripcion}\n                          fill\n                          className=\"object-cover group-hover:scale-105 transition-transform duration-300\"\n                        />\n                      ) : (\n                        <div className=\"w-full h-full bg-muted flex items-center justify-center\">\n                          <Package className=\"h-12 w-12 text-muted-foreground\" />\n                        </div>\n                      )}\n                      <Badge className=\"absolute top-3 right-3 bg-destructive text-destructive-foreground\">\n                        -{discountPercentage}%\n                      </Badge>\n                    </div>\n                    <CardHeader>\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <Badge variant=\"secondary\">{categoryName}</Badge>\n                        {totalStock < 15 && totalStock > 0 && (\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            Solo {totalStock} disponibles\n                          </Badge>\n                        )}\n                        {totalStock === 0 && (\n                          <Badge variant=\"destructive\" className=\"text-xs\">\n                            Agotado\n                          </Badge>\n                        )}\n                      </div>\n                      <CardTitle className=\"text-lg line-clamp-2\">\n                        {producto.nombre_comercial || producto.pdt_descripcion}\n                      </CardTitle>\n                      <CardDescription>\n                        <div className=\"flex items-center gap-2 mt-2\">\n                          <span className=\"text-2xl font-bold text-foreground\">\n                            ${discountPrice.toLocaleString(\"es-CO\", { minimumFractionDigits: 2 })}\n                          </span>\n                          <span className=\"text-sm line-through text-muted-foreground\">\n                            ${originalPrice.toLocaleString(\"es-CO\", { minimumFractionDigits: 2 })}\n                          </span>\n                        </div>\n                      </CardDescription>\n                    </CardHeader>\n                    <CardFooter>\n                      <Button className=\"w-full\" asChild>\n                        <Link href={`/productos/${siloSlug}/${producto.slug}`}>Ver Detalles</Link>\n                      </Button>\n                    </CardFooter>\n                  </Card>\n                )\n              })}\n            </div>\n          )}\n        </div>\n      </section>\n\n      <section className=\"py-12 px-4 bg-muted/50\">\n        <div className=\"container mx-auto text-center\">\n          <TrendingDown className=\"h-12 w-12 text-primary mx-auto mb-4\" />\n          <h2 className=\"text-2xl font-bold mb-4\">¿Eres distribuidor?</h2>\n          <p className=\"text-muted-foreground mb-6 max-w-2xl mx-auto\">\n            Los distribuidores registrados tienen acceso a descuentos adicionales y precios especiales. Regístrate para\n            ver tus precios personalizados.\n          </p>\n          <Button size=\"lg\" asChild>\n            <Link href=\"/auth/login\">Iniciar Sesión como Distribuidor</Link>\n          </Button>\n        </div>\n      </section>\n    </main>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}