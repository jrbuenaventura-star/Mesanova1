{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrbuenaventura/Windsurf/Mesanova/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\"\nimport { cookies } from \"next/headers\"\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  const supabaseUrl = process.env.SUPABASE_URL || process.env.NEXT_PUBLIC_SUPABASE_URL\n  const supabaseAnonKey = process.env.SUPABASE_ANON_KEY || process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n\n  if (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error(\"Missing Supabase environment variables\")\n  }\n\n  const client = createServerClient(supabaseUrl, supabaseAnonKey, {\n    cookies: {\n      getAll() {\n        return cookieStore.getAll()\n      },\n      setAll(cookiesToSet) {\n        try {\n          cookiesToSet.forEach(({ name, value, options }) => cookieStore.set(name, value, options))\n        } catch {\n          // The \"setAll\" method was called from a Server Component.\n          // This can be ignored if you have proxy refreshing user sessions.\n        }\n      },\n    },\n    auth: {\n      detectSessionInUrl: true,\n      flowType: \"pkce\",\n    },\n    global: {\n      headers: {\n        \"X-Client-Info\": \"mesanova-web-server@1.0.0\",\n      },\n    },\n  })\n\n  return client\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,MAAM,cAAc,QAAQ,GAAG,CAAC,YAAY;IAC5C,MAAM,kBAAkB,QAAQ,GAAG,CAAC,iBAAiB;IAErD;;IAIA,MAAM,SAAS,IAAA,+LAAkB,EAAC,aAAa,iBAAiB;QAC9D,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAAK,YAAY,GAAG,CAAC,MAAM,OAAO;gBAClF,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,kEAAkE;gBACpE;YACF;QACF;QACA,MAAM;YACJ,oBAAoB;YACpB,UAAU;QACZ;QACA,QAAQ;YACN,SAAS;gBACP,iBAAiB;YACnB;QACF;IACF;IAEA,OAAO;AACT"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrbuenaventura/Windsurf/Mesanova/lib/actions/favorites.ts"],"sourcesContent":["\"use server\"\n\nimport { createClient } from \"@/lib/supabase/server\"\nimport { revalidatePath } from \"next/cache\"\n\nexport async function toggleFavorite(productId: string) {\n  const supabase = await createClient()\n  const { data: { user } } = await supabase.auth.getUser()\n\n  if (!user) {\n    return { error: \"Debes iniciar sesi√≥n para agregar favoritos\" }\n  }\n\n  // Verificar si ya es favorito\n  const { data: existing } = await supabase\n    .from(\"favorites\")\n    .select(\"id\")\n    .eq(\"user_id\", user.id)\n    .eq(\"product_id\", productId)\n    .single()\n\n  if (existing) {\n    // Eliminar de favoritos\n    const { error } = await supabase\n      .from(\"favorites\")\n      .delete()\n      .eq(\"id\", existing.id)\n\n    if (error) return { error: error.message }\n    revalidatePath(\"/perfil/favoritos\")\n    return { success: true, isFavorite: false }\n  } else {\n    // Agregar a favoritos\n    const { error } = await supabase\n      .from(\"favorites\")\n      .insert({ user_id: user.id, product_id: productId })\n\n    if (error) return { error: error.message }\n    revalidatePath(\"/perfil/favoritos\")\n    return { success: true, isFavorite: true }\n  }\n}\n\nexport async function checkIsFavorite(productId: string) {\n  const supabase = await createClient()\n  const { data: { user } } = await supabase.auth.getUser()\n\n  if (!user) return false\n\n  const { data } = await supabase\n    .from(\"favorites\")\n    .select(\"id\")\n    .eq(\"user_id\", user.id)\n    .eq(\"product_id\", productId)\n    .single()\n\n  return !!data\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;;;AAEO,eAAe,eAAe,SAAiB;IACpD,MAAM,WAAW,MAAM,IAAA,yIAAY;IACnC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAEtD,IAAI,CAAC,MAAM;QACT,OAAO;YAAE,OAAO;QAA8C;IAChE;IAEA,8BAA8B;IAC9B,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM,SAC9B,IAAI,CAAC,aACL,MAAM,CAAC,MACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,EAAE,CAAC,cAAc,WACjB,MAAM;IAET,IAAI,UAAU;QACZ,wBAAwB;QACxB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,aACL,MAAM,GACN,EAAE,CAAC,MAAM,SAAS,EAAE;QAEvB,IAAI,OAAO,OAAO;YAAE,OAAO,MAAM,OAAO;QAAC;QACzC,IAAA,+IAAc,EAAC;QACf,OAAO;YAAE,SAAS;YAAM,YAAY;QAAM;IAC5C,OAAO;QACL,sBAAsB;QACtB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,aACL,MAAM,CAAC;YAAE,SAAS,KAAK,EAAE;YAAE,YAAY;QAAU;QAEpD,IAAI,OAAO,OAAO;YAAE,OAAO,MAAM,OAAO;QAAC;QACzC,IAAA,+IAAc,EAAC;QACf,OAAO;YAAE,SAAS;YAAM,YAAY;QAAK;IAC3C;AACF;AAEO,eAAe,gBAAgB,SAAiB;IACrD,MAAM,WAAW,MAAM,IAAA,yIAAY;IACnC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAEtD,IAAI,CAAC,MAAM,OAAO;IAElB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SACpB,IAAI,CAAC,aACL,MAAM,CAAC,MACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,EAAE,CAAC,cAAc,WACjB,MAAM;IAET,OAAO,CAAC,CAAC;AACX;;;IApDsB;IAsCA;;AAtCA,+OAAA;AAsCA,+OAAA"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrbuenaventura/Windsurf/Mesanova/.next-internal/server/app/productos/%5Bsilo%5D/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {toggleFavorite as '40b0d94b961262fed3495d601fa5fa314000eed789'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}