{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrbuenaventura/Windsurf/Mesanova/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,4KAAmB;QAClB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrbuenaventura/Windsurf/Mesanova/components/ui/checkbox.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox'\nimport { CheckIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Checkbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        'peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"flex items-center justify-center text-current transition-none\"\n      >\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  )\n}\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,6LAAC,+KAAsB;QACrB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,+eACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAC1B,aAAU;YACV,WAAU;sBAEV,cAAA,6LAAC,wNAAS;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI7B;KArBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrbuenaventura/Windsurf/Mesanova/components/ui/slider.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SliderPrimitive from '@radix-ui/react-slider'\n\nimport { cn } from '@/lib/utils'\n\nfunction Slider({\n  className,\n  defaultValue,\n  value,\n  min = 0,\n  max = 100,\n  ...props\n}: React.ComponentProps<typeof SliderPrimitive.Root>) {\n  const _values = React.useMemo(\n    () =>\n      Array.isArray(value)\n        ? value\n        : Array.isArray(defaultValue)\n          ? defaultValue\n          : [min, max],\n    [value, defaultValue, min, max],\n  )\n\n  return (\n    <SliderPrimitive.Root\n      data-slot=\"slider\"\n      defaultValue={defaultValue}\n      value={value}\n      min={min}\n      max={max}\n      className={cn(\n        'relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col',\n        className,\n      )}\n      {...props}\n    >\n      <SliderPrimitive.Track\n        data-slot=\"slider-track\"\n        className={\n          'bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5'\n        }\n      >\n        <SliderPrimitive.Range\n          data-slot=\"slider-range\"\n          className={\n            'bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full'\n          }\n        />\n      </SliderPrimitive.Track>\n      {Array.from({ length: _values.length }, (_, index) => (\n        <SliderPrimitive.Thumb\n          data-slot=\"slider-thumb\"\n          key={index}\n          className=\"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50\"\n        />\n      ))}\n    </SliderPrimitive.Root>\n  )\n}\n\nexport { Slider }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;;;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,YAAY,EACZ,KAAK,EACL,MAAM,CAAC,EACP,MAAM,GAAG,EACT,GAAG,OAC+C;;IAClD,MAAM,UAAU,wKAAa;mCAC3B,IACE,MAAM,OAAO,CAAC,SACV,QACA,MAAM,OAAO,CAAC,gBACZ,eACA;gBAAC;gBAAK;aAAI;kCAClB;QAAC;QAAO;QAAc;QAAK;KAAI;IAGjC,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,cAAc;QACd,OAAO;QACP,KAAK;QACL,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,uOACA;QAED,GAAG,KAAK;;0BAET,6LAAC,8KAAqB;gBACpB,aAAU;gBACV,WACE;0BAGF,cAAA,6LAAC,8KAAqB;oBACpB,aAAU;oBACV,WACE;;;;;;;;;;;YAIL,MAAM,IAAI,CAAC;gBAAE,QAAQ,QAAQ,MAAM;YAAC,GAAG,CAAC,GAAG,sBAC1C,6LAAC,8KAAqB;oBACpB,aAAU;oBAEV,WAAU;mBADL;;;;;;;;;;;AAMf;GArDS;KAAA"}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrbuenaventura/Windsurf/Mesanova/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrbuenaventura/Windsurf/Mesanova/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 340, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrbuenaventura/Windsurf/Mesanova/components/products/product-filters.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Label } from \"@/components/ui/label\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport { Slider } from \"@/components/ui/slider\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { X, SlidersHorizontal } from \"lucide-react\"\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetTrigger } from \"@/components/ui/sheet\"\n\ninterface ProductFiltersProps {\n  subcategories?: Array<{ id: string; name: string; slug: string }>\n  priceRange?: { min: number; max: number }\n  onFilterChange: (filters: FilterState) => void\n}\n\nexport interface FilterState {\n  subcategories: string[]\n  priceRange: [number, number]\n  inStock: boolean\n  onSale: boolean\n}\n\nexport function ProductFilters({ subcategories = [], priceRange, onFilterChange }: ProductFiltersProps) {\n  const [filters, setFilters] = useState<FilterState>({\n    subcategories: [],\n    priceRange: [priceRange?.min || 0, priceRange?.max || 1000000],\n    inStock: false,\n    onSale: false,\n  })\n\n  const handleSubcategoryToggle = (subcategoryId: string) => {\n    const newSubcategories = filters.subcategories.includes(subcategoryId)\n      ? filters.subcategories.filter((id) => id !== subcategoryId)\n      : [...filters.subcategories, subcategoryId]\n\n    const newFilters = { ...filters, subcategories: newSubcategories }\n    setFilters(newFilters)\n    onFilterChange(newFilters)\n  }\n\n  const handlePriceChange = (value: number[]) => {\n    const newFilters = { ...filters, priceRange: [value[0], value[1]] as [number, number] }\n    setFilters(newFilters)\n    onFilterChange(newFilters)\n  }\n\n  const handleCheckboxChange = (key: \"inStock\" | \"onSale\", checked: boolean) => {\n    const newFilters = { ...filters, [key]: checked }\n    setFilters(newFilters)\n    onFilterChange(newFilters)\n  }\n\n  const clearFilters = () => {\n    const defaultFilters: FilterState = {\n      subcategories: [],\n      priceRange: [priceRange?.min || 0, priceRange?.max || 1000000],\n      inStock: false,\n      onSale: false,\n    }\n    setFilters(defaultFilters)\n    onFilterChange(defaultFilters)\n  }\n\n  const activeFiltersCount =\n    filters.subcategories.length +\n    (filters.inStock ? 1 : 0) +\n    (filters.onSale ? 1 : 0) +\n    (filters.priceRange[0] !== (priceRange?.min || 0) || filters.priceRange[1] !== (priceRange?.max || 1000000)\n      ? 1\n      : 0)\n\n  const FilterContent = () => (\n    <div className=\"space-y-6\">\n      {subcategories.length > 0 && (\n        <div>\n          <h3 className=\"font-semibold mb-3\">Subcategorías</h3>\n          <div className=\"space-y-2\">\n            {subcategories.map((subcat) => (\n              <div key={subcat.id} className=\"flex items-center space-x-2\">\n                <Checkbox\n                  id={`subcat-${subcat.id}`}\n                  checked={filters.subcategories.includes(subcat.id)}\n                  onCheckedChange={() => handleSubcategoryToggle(subcat.id)}\n                />\n                <Label htmlFor={`subcat-${subcat.id}`} className=\"text-sm cursor-pointer\">\n                  {subcat.name}\n                </Label>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {priceRange && (\n        <div>\n          <h3 className=\"font-semibold mb-3\">Rango de Precio</h3>\n          <div className=\"space-y-4\">\n            <Slider\n              min={priceRange.min}\n              max={priceRange.max}\n              step={1000}\n              value={filters.priceRange}\n              onValueChange={handlePriceChange}\n              className=\"w-full\"\n            />\n            <div className=\"flex items-center justify-between text-sm text-muted-foreground\">\n              <span>${filters.priceRange[0].toLocaleString(\"es-CO\")}</span>\n              <span>${filters.priceRange[1].toLocaleString(\"es-CO\")}</span>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div>\n        <h3 className=\"font-semibold mb-3\">Disponibilidad</h3>\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center space-x-2\">\n            <Checkbox\n              id=\"inStock\"\n              checked={filters.inStock}\n              onCheckedChange={(checked) => handleCheckboxChange(\"inStock\", checked as boolean)}\n            />\n            <Label htmlFor=\"inStock\" className=\"text-sm cursor-pointer\">\n              En stock\n            </Label>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <Checkbox\n              id=\"onSale\"\n              checked={filters.onSale}\n              onCheckedChange={(checked) => handleCheckboxChange(\"onSale\", checked as boolean)}\n            />\n            <Label htmlFor=\"onSale\" className=\"text-sm cursor-pointer\">\n              En oferta\n            </Label>\n          </div>\n        </div>\n      </div>\n\n      {activeFiltersCount > 0 && (\n        <Button variant=\"outline\" onClick={clearFilters} className=\"w-full\">\n          <X className=\"h-4 w-4 mr-2\" />\n          Limpiar filtros ({activeFiltersCount})\n        </Button>\n      )}\n    </div>\n  )\n\n  return (\n    <>\n      {/* Desktop Filters */}\n      <div className=\"hidden lg:block\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center justify-between\">\n              <span>Filtros</span>\n              {activeFiltersCount > 0 && <Badge variant=\"secondary\">{activeFiltersCount}</Badge>}\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <FilterContent />\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Mobile Filters */}\n      <div className=\"lg:hidden\">\n        <Sheet>\n          <SheetTrigger asChild>\n            <Button variant=\"outline\" className=\"w-full\">\n              <SlidersHorizontal className=\"h-4 w-4 mr-2\" />\n              Filtros\n              {activeFiltersCount > 0 && (\n                <Badge variant=\"secondary\" className=\"ml-2\">\n                  {activeFiltersCount}\n                </Badge>\n              )}\n            </Button>\n          </SheetTrigger>\n          <SheetContent side=\"left\" className=\"w-80\">\n            <SheetHeader>\n              <SheetTitle>Filtros</SheetTitle>\n            </SheetHeader>\n            <div className=\"mt-6\">\n              <FilterContent />\n            </div>\n          </SheetContent>\n        </Sheet>\n      </div>\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 804, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrbuenaventura/Windsurf/Mesanova/lib/actions/favorites.ts"],"sourcesContent":["\"use server\"\n\nimport { createClient } from \"@/lib/supabase/server\"\nimport { revalidatePath } from \"next/cache\"\n\nexport async function toggleFavorite(productId: string) {\n  const supabase = await createClient()\n  const { data: { user } } = await supabase.auth.getUser()\n\n  if (!user) {\n    return { error: \"Debes iniciar sesión para agregar favoritos\" }\n  }\n\n  // Verificar si ya es favorito\n  const { data: existing } = await supabase\n    .from(\"favorites\")\n    .select(\"id\")\n    .eq(\"user_id\", user.id)\n    .eq(\"product_id\", productId)\n    .single()\n\n  if (existing) {\n    // Eliminar de favoritos\n    const { error } = await supabase\n      .from(\"favorites\")\n      .delete()\n      .eq(\"id\", existing.id)\n\n    if (error) return { error: error.message }\n    revalidatePath(\"/perfil/favoritos\")\n    return { success: true, isFavorite: false }\n  } else {\n    // Agregar a favoritos\n    const { error } = await supabase\n      .from(\"favorites\")\n      .insert({ user_id: user.id, product_id: productId })\n\n    if (error) return { error: error.message }\n    revalidatePath(\"/perfil/favoritos\")\n    return { success: true, isFavorite: true }\n  }\n}\n\nexport async function checkIsFavorite(productId: string) {\n  const supabase = await createClient()\n  const { data: { user } } = await supabase.auth.getUser()\n\n  if (!user) return false\n\n  const { data } = await supabase\n    .from(\"favorites\")\n    .select(\"id\")\n    .eq(\"user_id\", user.id)\n    .eq(\"product_id\", productId)\n    .single()\n\n  return !!data\n}\n"],"names":[],"mappings":";;;;;;;IAKsB,iBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 819, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrbuenaventura/Windsurf/Mesanova/hooks/use-toast.ts"],"sourcesContent":["'use client'\n\n// Inspired by react-hot-toast library\nimport * as React from 'react'\n\nimport type { ToastActionElement, ToastProps } from '@/components/ui/toast'\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: 'ADD_TOAST',\n  UPDATE_TOAST: 'UPDATE_TOAST',\n  DISMISS_TOAST: 'DISMISS_TOAST',\n  REMOVE_TOAST: 'REMOVE_TOAST',\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType['ADD_TOAST']\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType['UPDATE_TOAST']\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType['DISMISS_TOAST']\n      toastId?: ToasterToast['id']\n    }\n  | {\n      type: ActionType['REMOVE_TOAST']\n      toastId?: ToasterToast['id']\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: 'REMOVE_TOAST',\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'ADD_TOAST':\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case 'UPDATE_TOAST':\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t,\n        ),\n      }\n\n    case 'DISMISS_TOAST': {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      }\n    }\n    case 'REMOVE_TOAST':\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, 'id'>\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: 'UPDATE_TOAST',\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id })\n\n  dispatch({\n    type: 'ADD_TOAST',\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 986, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrbuenaventura/Windsurf/Mesanova/components/products/favorite-button.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useTransition } from \"react\"\nimport { Heart } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { toggleFavorite } from \"@/lib/actions/favorites\"\nimport { cn } from \"@/lib/utils\"\nimport { useToast } from \"@/hooks/use-toast\"\n\ninterface FavoriteButtonProps {\n  productId: string\n  initialIsFavorite?: boolean\n  variant?: \"icon\" | \"button\"\n  className?: string\n}\n\nexport function FavoriteButton({ productId, initialIsFavorite = false, variant = \"icon\", className }: FavoriteButtonProps) {\n  const [isFavorite, setIsFavorite] = useState(initialIsFavorite)\n  const [isPending, startTransition] = useTransition()\n  const { toast } = useToast()\n\n  const handleClick = () => {\n    startTransition(async () => {\n      const result = await toggleFavorite(productId)\n\n      if (result.error) {\n        toast({\n          title: \"Error\",\n          description: result.error,\n          variant: \"destructive\",\n        })\n        return\n      }\n\n      setIsFavorite(result.isFavorite ?? false)\n      toast({\n        title: result.isFavorite ? \"Agregado a favoritos\" : \"Eliminado de favoritos\",\n        description: result.isFavorite\n          ? \"El producto ha sido agregado a tus favoritos\"\n          : \"El producto ha sido eliminado de tus favoritos\",\n      })\n    })\n  }\n\n  if (variant === \"button\") {\n    return (\n      <Button\n        variant={isFavorite ? \"default\" : \"outline\"}\n        size=\"sm\"\n        onClick={handleClick}\n        disabled={isPending}\n        className={className}\n      >\n        <Heart className={cn(\"h-4 w-4 mr-2\", isFavorite && \"fill-current\")} />\n        {isFavorite ? \"En favoritos\" : \"Agregar a favoritos\"}\n      </Button>\n    )\n  }\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon\"\n      onClick={handleClick}\n      disabled={isPending}\n      className={cn(\n        \"h-9 w-9 rounded-full\",\n        isFavorite && \"text-red-500 hover:text-red-600\",\n        className\n      )}\n    >\n      <Heart className={cn(\"h-5 w-5\", isFavorite && \"fill-current\")} />\n      <span className=\"sr-only\">{isFavorite ? \"Eliminar de favoritos\" : \"Agregar a favoritos\"}</span>\n    </Button>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AAgBO,SAAS,eAAe,EAAE,SAAS,EAAE,oBAAoB,KAAK,EAAE,UAAU,MAAM,EAAE,SAAS,EAAuB;;IACvH,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,WAAW,gBAAgB,GAAG,IAAA,8KAAa;IAClD,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,oIAAQ;IAE1B,MAAM,cAAc;QAClB,gBAAgB;YACd,MAAM,SAAS,MAAM,IAAA,2KAAc,EAAC;YAEpC,IAAI,OAAO,KAAK,EAAE;gBAChB,MAAM;oBACJ,OAAO;oBACP,aAAa,OAAO,KAAK;oBACzB,SAAS;gBACX;gBACA;YACF;YAEA,cAAc,OAAO,UAAU,IAAI;YACnC,MAAM;gBACJ,OAAO,OAAO,UAAU,GAAG,yBAAyB;gBACpD,aAAa,OAAO,UAAU,GAC1B,iDACA;YACN;QACF;IACF;IAEA,IAAI,YAAY,UAAU;QACxB,qBACE,6LAAC,wIAAM;YACL,SAAS,aAAa,YAAY;YAClC,MAAK;YACL,SAAS;YACT,UAAU;YACV,WAAW;;8BAEX,6LAAC,gNAAK;oBAAC,WAAW,IAAA,qHAAE,EAAC,gBAAgB,cAAc;;;;;;gBAClD,aAAa,iBAAiB;;;;;;;IAGrC;IAEA,qBACE,6LAAC,wIAAM;QACL,SAAQ;QACR,MAAK;QACL,SAAS;QACT,UAAU;QACV,WAAW,IAAA,qHAAE,EACX,wBACA,cAAc,mCACd;;0BAGF,6LAAC,gNAAK;gBAAC,WAAW,IAAA,qHAAE,EAAC,WAAW,cAAc;;;;;;0BAC9C,6LAAC;gBAAK,WAAU;0BAAW,aAAa,0BAA0B;;;;;;;;;;;;AAGxE;GA3DgB;;QAEuB,8KAAa;QAChC,oIAAQ;;;KAHZ"}},
    {"offset": {"line": 1097, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrbuenaventura/Windsurf/Mesanova/components/products/product-card.tsx"],"sourcesContent":["import Image from \"next/image\"\nimport Link from \"next/link\"\nimport type { Product } from \"@/lib/db/types\"\nimport { Card, CardContent, CardFooter } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport { ShoppingCart } from \"lucide-react\"\nimport { FavoriteButton } from \"@/components/products/favorite-button\"\n\ninterface ProductCardProps {\n  product: Product\n  showFavoriteButton?: boolean\n  isFavorited?: boolean\n}\n\nexport function ProductCard({ product, showFavoriteButton = true, isFavorited = false }: ProductCardProps) {\n  const hasStock = product.upp_existencia > 0\n\n  return (\n    <Card className=\"group overflow-hidden h-full flex flex-col\">\n      <div className=\"relative\">\n        <Link href={`/productos/${product.slug}`} className=\"block\">\n          <div className=\"relative aspect-square overflow-hidden bg-muted\">\n            <Image\n              src={product.imagen_principal_url || \"/placeholder.svg?height=300&width=300\"}\n              alt={product.nombre_comercial || product.pdt_descripcion}\n              fill\n              className=\"object-cover group-hover:scale-105 transition-transform duration-300\"\n              sizes=\"(max-width: 768px) 50vw, 25vw\"\n            />\n\n            {/* Badges */}\n            <div className=\"absolute top-2 left-2 flex flex-col gap-1\">\n              {product.is_new && (\n                <Badge variant=\"default\" className=\"w-fit\">\n                  Nuevo\n                </Badge>\n              )}\n              {product.is_on_sale && (\n                <Badge variant=\"destructive\" className=\"w-fit\">\n                  Oferta\n                </Badge>\n              )}\n              {!hasStock && (\n                <Badge variant=\"secondary\" className=\"w-fit\">\n                  Agotado\n                </Badge>\n              )}\n            </div>\n          </div>\n        </Link>\n        \n        {/* Favorite Button */}\n        {showFavoriteButton && (\n          <div className=\"absolute top-2 right-2 z-10\">\n            <FavoriteButton \n              productId={product.id} \n              initialIsFavorite={isFavorited}\n              className=\"bg-background/80 backdrop-blur-sm hover:bg-background\"\n            />\n          </div>\n        )}\n      </div>\n\n      <CardContent className=\"p-4 flex-1\">\n        <Link href={`/productos/${product.slug}`}>\n          <h3 className=\"font-semibold text-sm mb-1 line-clamp-2 group-hover:text-primary transition-colors\">\n            {product.nombre_comercial || product.pdt_descripcion}\n          </h3>\n        </Link>\n        <p className=\"text-xs text-muted-foreground mb-2\">Código: {product.pdt_codigo}</p>\n        <div className=\"flex items-baseline gap-2\">\n          <span className=\"text-lg font-bold\">${product.precio?.toFixed(2)}</span>\n          {product.is_on_sale && (\n            <span className=\"text-sm text-muted-foreground line-through\">${(product.precio! * 1.2).toFixed(2)}</span>\n          )}\n        </div>\n      </CardContent>\n\n      <CardFooter className=\"p-4 pt-0\">\n        <Button className=\"w-full\" size=\"sm\" disabled={!hasStock}>\n          <ShoppingCart className=\"h-4 w-4 mr-2\" />\n          {hasStock ? \"Agregar\" : \"Agotado\"}\n        </Button>\n      </CardFooter>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;AAQO,SAAS,YAAY,EAAE,OAAO,EAAE,qBAAqB,IAAI,EAAE,cAAc,KAAK,EAAoB;IACvG,MAAM,WAAW,QAAQ,cAAc,GAAG;IAE1C,qBACE,6LAAC,oIAAI;QAAC,WAAU;;0BACd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,0KAAI;wBAAC,MAAM,CAAC,WAAW,EAAE,QAAQ,IAAI,EAAE;wBAAE,WAAU;kCAClD,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,2IAAK;oCACJ,KAAK,QAAQ,oBAAoB,IAAI;oCACrC,KAAK,QAAQ,gBAAgB,IAAI,QAAQ,eAAe;oCACxD,IAAI;oCACJ,WAAU;oCACV,OAAM;;;;;;8CAIR,6LAAC;oCAAI,WAAU;;wCACZ,QAAQ,MAAM,kBACb,6LAAC,sIAAK;4CAAC,SAAQ;4CAAU,WAAU;sDAAQ;;;;;;wCAI5C,QAAQ,UAAU,kBACjB,6LAAC,sIAAK;4CAAC,SAAQ;4CAAc,WAAU;sDAAQ;;;;;;wCAIhD,CAAC,0BACA,6LAAC,sIAAK;4CAAC,SAAQ;4CAAY,WAAU;sDAAQ;;;;;;;;;;;;;;;;;;;;;;;oBASpD,oCACC,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,kKAAc;4BACb,WAAW,QAAQ,EAAE;4BACrB,mBAAmB;4BACnB,WAAU;;;;;;;;;;;;;;;;;0BAMlB,6LAAC,2IAAW;gBAAC,WAAU;;kCACrB,6LAAC,0KAAI;wBAAC,MAAM,CAAC,WAAW,EAAE,QAAQ,IAAI,EAAE;kCACtC,cAAA,6LAAC;4BAAG,WAAU;sCACX,QAAQ,gBAAgB,IAAI,QAAQ,eAAe;;;;;;;;;;;kCAGxD,6LAAC;wBAAE,WAAU;;4BAAqC;4BAAS,QAAQ,UAAU;;;;;;;kCAC7E,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;;oCAAoB;oCAAE,QAAQ,MAAM,EAAE,QAAQ;;;;;;;4BAC7D,QAAQ,UAAU,kBACjB,6LAAC;gCAAK,WAAU;;oCAA6C;oCAAE,CAAC,QAAQ,MAAM,GAAI,GAAG,EAAE,OAAO,CAAC;;;;;;;;;;;;;;;;;;;0BAKrG,6LAAC,0IAAU;gBAAC,WAAU;0BACpB,cAAA,6LAAC,wIAAM;oBAAC,WAAU;oBAAS,MAAK;oBAAK,UAAU,CAAC;;sCAC9C,6LAAC,yOAAY;4BAAC,WAAU;;;;;;wBACvB,WAAW,YAAY;;;;;;;;;;;;;;;;;;AAKlC;KAxEgB"}},
    {"offset": {"line": 1320, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrbuenaventura/Windsurf/Mesanova/components/products/products-with-filters.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useMemo } from \"react\"\nimport { ProductFilters, FilterState } from \"@/components/products/product-filters\"\nimport { ProductCard } from \"@/components/products/product-card\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Package } from \"lucide-react\"\nimport Link from \"next/link\"\n\ninterface ProductsWithFiltersProps {\n  products: any[]\n  subcategories: Array<{ id: string; name: string; slug: string }>\n  siloSlug: string\n}\n\nexport function ProductsWithFilters({ products, subcategories, siloSlug }: ProductsWithFiltersProps) {\n  const [filters, setFilters] = useState<FilterState>({\n    subcategories: [],\n    priceRange: [0, 1000000],\n    inStock: false,\n    onSale: false,\n  })\n\n  // Calcular rango de precios de los productos\n  const priceRange = useMemo(() => {\n    if (products.length === 0) return { min: 0, max: 1000000 }\n    const prices = products.map((p) => p.precio || 0).filter((p) => p > 0)\n    return {\n      min: Math.floor(Math.min(...prices) / 1000) * 1000,\n      max: Math.ceil(Math.max(...prices) / 1000) * 1000,\n    }\n  }, [products])\n\n  // Aplicar filtros a los productos\n  const filteredProducts = useMemo(() => {\n    return products.filter((product) => {\n      // Filtro por subcategorías\n      if (filters.subcategories.length > 0) {\n        const productSubcategories = product.categories\n          ?.map((c: any) => c.subcategory?.id)\n          .filter(Boolean)\n        const hasMatchingSubcategory = filters.subcategories.some((subId) =>\n          productSubcategories?.includes(subId)\n        )\n        if (!hasMatchingSubcategory) return false\n      }\n\n      // Filtro por rango de precio\n      const price = product.precio || 0\n      if (price < filters.priceRange[0] || price > filters.priceRange[1]) {\n        return false\n      }\n\n      // Filtro por stock\n      if (filters.inStock) {\n        const totalStock = product.warehouse_stock?.reduce(\n          (sum: number, ws: any) => sum + (ws.available_quantity || 0),\n          0\n        )\n        if (!totalStock || totalStock <= 0) return false\n      }\n\n      // Filtro por ofertas\n      if (filters.onSale && !product.is_on_sale) {\n        return false\n      }\n\n      return true\n    })\n  }, [products, filters])\n\n  return (\n    <div className=\"grid gap-6 lg:grid-cols-4\">\n      <div className=\"lg:col-span-1\">\n        <ProductFilters\n          subcategories={subcategories}\n          priceRange={priceRange}\n          onFilterChange={setFilters}\n        />\n      </div>\n\n      <div className=\"lg:col-span-3\">\n        <div className=\"mb-6\">\n          <p className=\"text-sm text-muted-foreground\">\n            {filteredProducts.length} producto{filteredProducts.length !== 1 ? \"s\" : \"\"} encontrado\n            {filteredProducts.length !== 1 ? \"s\" : \"\"}\n          </p>\n        </div>\n\n        {filteredProducts.length > 0 ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {filteredProducts.map((product: any) => (\n              <ProductCard key={product.id} product={product} />\n            ))}\n          </div>\n        ) : (\n          <Card className=\"p-12\">\n            <div className=\"text-center\">\n              <Package className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold mb-2\">No hay productos disponibles</h3>\n              <p className=\"text-muted-foreground mb-4\">\n                No se encontraron productos con los filtros seleccionados. Intenta ajustar los filtros.\n              </p>\n              <Button asChild variant=\"outline\">\n                <Link href={`/productos/${siloSlug}`}>Ver todas las subcategorías</Link>\n              </Button>\n            </div>\n          </Card>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}