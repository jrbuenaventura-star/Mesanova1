(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10708,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(48425),i=r.forwardRef((e,r)=>(0,a.jsx)(t.Primitive.label,{...e,ref:r,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var s=e.i(47163);function n({className:e,...r}){return(0,a.jsx)(i,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}e.s(["Label",()=>n],10708)},70065,e=>{"use strict";var a=e.i(43476),r=e.i(47163);function t({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function i({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function s({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...t})}function n({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...t})}function l({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...t})}function o({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...t})}e.s(["Card",()=>t,"CardContent",()=>l,"CardDescription",()=>n,"CardFooter",()=>o,"CardHeader",()=>i,"CardTitle",()=>s])},69035,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(48425),i="horizontal",s=["horizontal","vertical"],n=r.forwardRef((e,r)=>{var n;let{decorative:l,orientation:o=i,...c}=e,d=(n=o,s.includes(n))?o:i;return(0,a.jsx)(t.Primitive.div,{"data-orientation":d,...l?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...c,ref:r})});n.displayName="Separator";var l=e.i(47163);function o({className:e,orientation:r="horizontal",decorative:t=!0,...i}){return(0,a.jsx)(n,{"data-slot":"separator",decorative:t,orientation:r,className:(0,l.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...i})}e.s(["Separator",()=>o],69035)},13248,e=>{"use strict";let a=(0,e.i(75254).default)("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);e.s(["Chrome",()=>a],13248)},13996,e=>{"use strict";var a=e.i(43476),r=e.i(20755),t=e.i(67881),i=e.i(70065),s=e.i(23750),n=e.i(10708),l=e.i(69035),o=e.i(22016),c=e.i(18566),d=e.i(71645),u=e.i(13248);function m(){let[e,m]=(0,d.useState)(""),[x,p]=(0,d.useState)(""),[f,h]=(0,d.useState)(""),[v,g]=(0,d.useState)(""),[j,b]=(0,d.useState)(null),[y,w]=(0,d.useState)(!1),N=(0,c.useRouter)(),C=async a=>{a.preventDefault();let t=(0,r.createClient)();if(w(!0),b(null),f!==v){b("Las contraseñas no coinciden"),w(!1);return}if(f.length<6){b("La contraseña debe tener al menos 6 caracteres"),w(!1);return}try{let{data:a,error:r}=await t.auth.signUp({email:x,password:f,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{full_name:e}}});if(r)throw r;if(a.user){let{error:r}=await t.from("user_profiles").insert({id:a.user.id,full_name:e,role:"end_user"});r&&console.error("Error creating profile:",r)}N.push("/auth/verify-email")}catch(e){b(e instanceof Error?e.message:"Ha ocurrido un error")}finally{w(!1)}},k=async()=>{let e=(0,r.createClient)();w(!0),b(null);try{let{error:a}=await e.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});if(a)throw a}catch(e){b(e instanceof Error?e.message:"Ha ocurrido un error"),w(!1)}};return(0,a.jsx)("div",{className:"flex min-h-[calc(100vh-4rem)] w-full items-center justify-center p-6 md:p-10",children:(0,a.jsx)("div",{className:"w-full max-w-sm",children:(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{children:[(0,a.jsx)(i.CardTitle,{className:"text-2xl",children:"Crear cuenta"}),(0,a.jsx)(i.CardDescription,{children:"Regístrate para comenzar a comprar en Mesanova"})]}),(0,a.jsx)(i.CardContent,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)(t.Button,{variant:"outline",className:"w-full bg-transparent",onClick:k,disabled:y,children:[(0,a.jsx)(u.Chrome,{className:"mr-2 h-4 w-4"}),"Continuar con Google"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)(l.Separator,{className:"w-full"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,a.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"O regístrate con"})})]}),(0,a.jsx)("form",{onSubmit:C,children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(n.Label,{htmlFor:"fullName",children:"Nombre completo"}),(0,a.jsx)(s.Input,{id:"fullName",type:"text",placeholder:"Juan Pérez",required:!0,value:e,onChange:e=>m(e.target.value),disabled:y})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(n.Label,{htmlFor:"email",children:"Correo electrónico"}),(0,a.jsx)(s.Input,{id:"email",type:"email",placeholder:"tu@ejemplo.com",required:!0,value:x,onChange:e=>p(e.target.value),disabled:y})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(n.Label,{htmlFor:"password",children:"Contraseña"}),(0,a.jsx)(s.Input,{id:"password",type:"password",required:!0,value:f,onChange:e=>h(e.target.value),disabled:y})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(n.Label,{htmlFor:"confirmPassword",children:"Confirmar contraseña"}),(0,a.jsx)(s.Input,{id:"confirmPassword",type:"password",required:!0,value:v,onChange:e=>g(e.target.value),disabled:y})]}),j&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:j}),(0,a.jsx)(t.Button,{type:"submit",className:"w-full",disabled:y,children:y?"Creando cuenta...":"Crear cuenta"})]})}),(0,a.jsxs)("div",{className:"text-center text-sm",children:["¿Ya tienes cuenta?"," ",(0,a.jsx)(o.default,{href:"/auth/login",className:"underline underline-offset-4 hover:text-primary",children:"Inicia sesión"})]})]})})]})})})}e.s(["default",()=>m])}]);