(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10708,e=>{"use strict";var a=e.i(843476),t=e.i(271645),n=e.i(248425),i=t.forwardRef((e,t)=>(0,a.jsx)(n.Primitive.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var s=e.i(647163);function r({className:e,...t}){return(0,a.jsx)(i,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>r],10708)},319036,e=>{"use strict";var a=e.i(843476),t=e.i(271645),n=e.i(981140),i=e.i(820783),s=e.i(30030),r=e.i(369340),o=e.i(999682),c=e.i(635804),l=e.i(248425),d="Switch",[u,m]=(0,s.createContextScope)(d),[p,h]=u(d),v=t.forwardRef((e,s)=>{let{__scopeSwitch:o,name:c,checked:d,defaultChecked:u,required:m,disabled:h,value:v="on",onCheckedChange:b,form:x,...j}=e,[y,k]=t.useState(null),w=(0,i.useComposedRefs)(s,e=>k(e)),C=t.useRef(!1),N=!y||x||!!y.closest("form"),[_=!1,S]=(0,r.useControllableState)({prop:d,defaultProp:u,onChange:b});return(0,a.jsxs)(p,{scope:o,checked:_,disabled:h,children:[(0,a.jsx)(l.Primitive.button,{type:"button",role:"switch","aria-checked":_,"aria-required":m,"data-state":f(_),"data-disabled":h?"":void 0,disabled:h,value:v,...j,ref:w,onClick:(0,n.composeEventHandlers)(e.onClick,e=>{S(e=>!e),N&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),N&&(0,a.jsx)(g,{control:y,bubbles:!C.current,name:c,value:v,checked:_,required:m,disabled:h,form:x,style:{transform:"translateX(-100%)"}})]})});v.displayName=d;var b="SwitchThumb",x=t.forwardRef((e,t)=>{let{__scopeSwitch:n,...i}=e,s=h(b,n);return(0,a.jsx)(l.Primitive.span,{"data-state":f(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})});x.displayName=b;var g=e=>{let{control:n,checked:i,bubbles:s=!0,...r}=e,l=t.useRef(null),d=(0,o.usePrevious)(i),u=(0,c.useSize)(n);return t.useEffect(()=>{let e=l.current,a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==i&&a){let t=new Event("click",{bubbles:s});a.call(e,i),e.dispatchEvent(t)}},[d,i,s]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...r,tabIndex:-1,ref:l,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function f(e){return e?"checked":"unchecked"}var j=e.i(647163);function y({className:e,...t}){return(0,a.jsx)(v,{"data-slot":"switch",className:(0,j.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,a.jsx)(x,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}e.s(["Switch",()=>y],319036)},569262,e=>{"use strict";var a=e.i(843476),t=e.i(271645),n=e.i(618566),i=e.i(23750),s=e.i(167881),r=e.i(10708),o=e.i(319036);function c(){let e=(0,n.useRouter)(),[c,l]=(0,t.useState)(!1),[d,u]=(0,t.useState)(null),[m,p]=(0,t.useState)({email:"",company_name:"",contact_name:"",phone:"",commission_percentage:"0",is_active:!0}),h=async a=>{a.preventDefault(),u(null),l(!0);try{let a=await fetch("/api/admin/aliados",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}),t=await a.json();if(!a.ok)throw Error(t.error||"Error creando aliado");e.push("/admin/aliados"),e.refresh()}catch(e){u(e instanceof Error?e.message:"Error creando aliado")}finally{l(!1)}};return(0,a.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"company_name",children:"Empresa *"}),(0,a.jsx)(i.Input,{id:"company_name",value:m.company_name,onChange:e=>p(a=>({...a,company_name:e.target.value})),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"email",children:"Email (invitación) *"}),(0,a.jsx)(i.Input,{id:"email",type:"email",value:m.email,onChange:e=>p(a=>({...a,email:e.target.value})),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"contact_name",children:"Nombre contacto"}),(0,a.jsx)(i.Input,{id:"contact_name",value:m.contact_name,onChange:e=>p(a=>({...a,contact_name:e.target.value}))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"phone",children:"Teléfono"}),(0,a.jsx)(i.Input,{id:"phone",value:m.phone,onChange:e=>p(a=>({...a,phone:e.target.value}))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"commission_percentage",children:"Comisión (%)"}),(0,a.jsx)(i.Input,{id:"commission_percentage",inputMode:"decimal",value:m.commission_percentage,onChange:e=>p(a=>({...a,commission_percentage:e.target.value}))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"Activo"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(o.Switch,{checked:m.is_active,onCheckedChange:e=>p(a=>({...a,is_active:e}))}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:m.is_active?"Activo":"Inactivo"})]})]})]}),d?(0,a.jsx)("div",{className:"text-sm text-destructive",children:d}):null,(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(s.Button,{type:"button",variant:"outline",onClick:()=>e.push("/admin/aliados"),children:"Cancelar"}),(0,a.jsx)(s.Button,{type:"submit",disabled:c,children:"Crear y Enviar Invitación"})]})]})}e.s(["AliadoCreateForm",()=>c])}]);