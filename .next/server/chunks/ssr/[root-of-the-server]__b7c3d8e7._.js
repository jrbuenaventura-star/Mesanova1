module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70864,a=>{a.n(a.i(233290))},102894,a=>{a.n(a.i(666188))},13718,a=>{a.n(a.i(685523))},118198,a=>{a.n(a.i(545518))},262212,a=>{a.n(a.i(866114))},913059,a=>{a.n(a.i(852900))},21679,a=>{"use strict";let b=(0,a.i(701269).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],21679)},671859,a=>{"use strict";var b=a.i(907997),c=a.i(596942),d=a.i(182248);let e=(0,c.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,d.cn)(e({variant:c}),a),...f})}function g({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-title",className:(0,d.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",a),...c})}function h({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-description",className:(0,d.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...c})}a.s(["Alert",()=>f,"AlertDescription",()=>h,"AlertTitle",()=>g])},592345,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call AliadoStatsDashboard() from the server but AliadoStatsDashboard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/aliado/stats-dashboard.tsx <module evaluation>","AliadoStatsDashboard");a.s(["AliadoStatsDashboard",0,b])},580104,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call AliadoStatsDashboard() from the server but AliadoStatsDashboard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/aliado/stats-dashboard.tsx","AliadoStatsDashboard");a.s(["AliadoStatsDashboard",0,b])},772248,a=>{"use strict";a.i(592345);var b=a.i(580104);a.n(b)},903201,a=>{"use strict";var b=a.i(907997),c=a.i(998310);a.i(570396);var d=a.i(673727),e=a.i(671859),f=a.i(21679),g=a.i(772248);async function h(){let a=await (0,c.createClient)(),{data:{user:h}}=await a.auth.getUser();h||(0,d.redirect)("/auth/login");let{data:i}=await a.from("aliados").select("id, company_name").eq("user_id",h.id).single();if(!i)return(0,b.jsx)("div",{className:"container mx-auto py-8 px-4",children:(0,b.jsxs)(e.Alert,{variant:"destructive",children:[(0,b.jsx)(f.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)(e.AlertDescription,{children:"No tienes un perfil de aliado configurado. Contacta al administrador."})]})});let{data:j}=await a.from("distributors").select("id, company_name, is_active, last_purchase_date, total_purchases").eq("aliado_id",i.id).order("total_purchases",{ascending:!1}),k=[];try{let{data:b}=await a.from("leads").select("id, stage, next_follow_up_date").eq("aliado_id",i.id);k=b||[]}catch(a){k=[]}let l=j||[],m=l.length,n=l.filter(a=>a.is_active).length,o=l.reduce((a,b)=>a+(b.total_purchases||0),0),p={};k.forEach(a=>{let b=a.stage||"sin_etapa";p[b]=(p[b]||0)+1});let q=k.filter(a=>!!a.next_follow_up_date&&new Date(a.next_follow_up_date)<=new Date).length;return(0,b.jsx)("div",{className:"container mx-auto py-8 px-4",children:(0,b.jsx)(g.AliadoStatsDashboard,{summary:{companyName:i.company_name,distributors:{total:m,active:n,totalSales:o,top:l.slice(0,10)},leads:{total:k.length,byStage:p,pendingFollowUps:q}}})})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__b7c3d8e7._.js.map