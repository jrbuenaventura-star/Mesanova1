module.exports=[37936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(11857)},13095,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},54823,a=>{"use strict";var b=a.i(37936),c=a.i(98310),d=a.i(18558);async function e(a){let b=await (0,c.createClient)(),{data:{user:e}}=await b.auth.getUser();if(!e)return{error:"Debes iniciar sesión para agregar favoritos"};let{data:f}=await b.from("favorites").select("id").eq("user_id",e.id).eq("product_id",a).single();if(f){let{error:a}=await b.from("favorites").delete().eq("id",f.id);return a?{error:a.message}:((0,d.revalidatePath)("/perfil/favoritos"),{success:!0,isFavorite:!1})}{let{error:c}=await b.from("favorites").insert({user_id:e.id,product_id:a});return c?{error:c.message}:((0,d.revalidatePath)("/perfil/favoritos"),{success:!0,isFavorite:!0})}}async function f(a){let b=await (0,c.createClient)(),{data:{user:d}}=await b.auth.getUser();if(!d)return!1;let{data:e}=await b.from("favorites").select("id").eq("user_id",d.id).eq("product_id",a).single();return!!e}(0,a.i(13095).ensureServerEntryExports)([e,f]),(0,b.registerServerReference)(e,"4059f1a839f6c0c69c56f4e81d9d863d2b808f86ad",null),(0,b.registerServerReference)(f,"4082dd72b5ee94f6631dbc19504096e2272ca5bb6d",null),a.s(["toggleFavorite",()=>e])},13391,a=>{"use strict";var b=a.i(37936),c=a.i(98310),d=a.i(18558);async function e(a){let b=await (0,c.createClient)(),{data:{user:e}}=await b.auth.getUser();if(!e)return{error:"Debes iniciar sesión"};let f=a.get("name"),g=a.get("description"),h="on"===a.get("is_public"),i=crypto.randomUUID().replace(/-/g,""),{data:j,error:k}=await b.from("wishlists").insert({user_id:e.id,name:f,description:g||null,is_public:h,share_token:i}).select("id").single();return k?{error:k.message}:((0,d.revalidatePath)("/perfil/wishlists"),{success:!0,wishlistId:j.id})}async function f(a,b,e=1){let g=await (0,c.createClient)(),{data:{user:h}}=await g.auth.getUser();if(!h)return{error:"Debes iniciar sesión"};let{data:i}=await g.from("wishlists").select("user_id").eq("id",a).single();if(!i||i.user_id!==h.id)return{error:"No tienes permiso para modificar esta lista"};let{error:j}=await g.from("wishlist_items").upsert({wishlist_id:a,product_id:b,quantity:e},{onConflict:"wishlist_id,product_id"});return j?{error:j.message}:((0,d.revalidatePath)(`/perfil/wishlists/${a}`),{success:!0})}async function g(a,b){let e=await (0,c.createClient)(),{data:{user:f}}=await e.auth.getUser();if(!f)return{error:"Debes iniciar sesión"};let{error:g}=await e.from("wishlist_items").delete().eq("wishlist_id",a).eq("product_id",b);return g?{error:g.message}:((0,d.revalidatePath)(`/perfil/wishlists/${a}`),{success:!0})}async function h(a,b){let e=await (0,c.createClient)(),{data:{user:f}}=await e.auth.getUser();if(!f)return{error:"Debes iniciar sesión"};let g=b.get("name"),h=b.get("description"),i="on"===b.get("is_public"),{error:j}=await e.from("wishlists").update({name:g,description:h||null,is_public:i}).eq("id",a).eq("user_id",f.id);return j?{error:j.message}:((0,d.revalidatePath)(`/perfil/wishlists/${a}`),(0,d.revalidatePath)("/perfil/wishlists"),{success:!0})}async function i(a){let b=await (0,c.createClient)(),{data:{user:e}}=await b.auth.getUser();if(!e)return{error:"Debes iniciar sesión"};let{error:f}=await b.from("wishlists").delete().eq("id",a).eq("user_id",e.id);return f?{error:f.message}:((0,d.revalidatePath)("/perfil/wishlists"),{success:!0})}(0,a.i(13095).ensureServerEntryExports)([e,f,g,h,i]),(0,b.registerServerReference)(e,"401a48c1a85b471754a37f99a10d5cf259cad15025",null),(0,b.registerServerReference)(f,"70837b105d5a321066405b8404536c25f4c5cd7c17",null),(0,b.registerServerReference)(g,"603a6389739a6859672ee46a79ecf930adff5ab86d",null),(0,b.registerServerReference)(h,"6068d10a6b9c204ea50d5f18af147ca7685e3d6222",null),(0,b.registerServerReference)(i,"40eb182d66fbf6dfa6c42a6341046fc812ac81cbac",null),a.s(["addToWishlistAction",()=>f,"createWishlistAction",()=>e])},45482,a=>{"use strict";var b=a.i(37936),c=a.i(98310),d=a.i(18558);async function e(a){let b=await (0,c.createClient)(),{data:{user:e}}=await b.auth.getUser();if(!e)return{error:"Debes iniciar sesión"};let f=a.get("name"),g=a.get("event_type"),h=a.get("event_date"),i=a.get("partner_name"),j=a.get("description"),k=a.get("notification_email"),l=crypto.randomUUID().replace(/-/g,""),m=null;if(h){let a=new Date(h);a.setMonth(a.getMonth()+2),m=a.toISOString()}let{data:n,error:o}=await b.from("gift_registries").insert({user_id:e.id,name:f,event_type:g||"wedding",event_date:h||null,partner_name:i||null,description:j||null,notification_email:k||e.email,share_token:l,expires_at:m}).select("id").single();return o?{error:o.message}:((0,d.revalidatePath)("/perfil/listas-regalo"),{success:!0,registryId:n.id})}async function f(a,b,e=1){let g=await (0,c.createClient)(),{data:{user:h}}=await g.auth.getUser();if(!h)return{error:"Debes iniciar sesión"};let{data:i}=await g.from("gift_registries").select("user_id").eq("id",a).single();if(!i||i.user_id!==h.id)return{error:"No tienes permiso para modificar esta lista"};let{error:j}=await g.from("gift_registry_items").upsert({registry_id:a,product_id:b,quantity_desired:e},{onConflict:"registry_id,product_id"});return j?{error:j.message}:((0,d.revalidatePath)(`/perfil/listas-regalo/${a}`),{success:!0})}async function g(a,b){let e=await (0,c.createClient)(),{data:{user:f}}=await e.auth.getUser();if(!f)return{error:"Debes iniciar sesión"};let{error:g}=await e.from("gift_registry_items").delete().eq("registry_id",a).eq("product_id",b);return g?{error:g.message}:((0,d.revalidatePath)(`/perfil/listas-regalo/${a}`),{success:!0})}async function h(a,b){let e=await (0,c.createClient)(),{data:{user:f}}=await e.auth.getUser();if(!f)return{error:"Debes iniciar sesión"};let g={},h=b.get("name");h&&(g.name=h);let i=b.get("event_type");i&&(g.event_type=i);let j=b.get("event_date");if(j){g.event_date=j;let a=new Date(j);a.setMonth(a.getMonth()+2),g.expires_at=a.toISOString()}let k=b.get("partner_name");null!==k&&(g.partner_name=k||null);let l=b.get("description");null!==l&&(g.description=l||null);let m=b.get("notification_email");null!==m&&(g.notification_email=m||null);let n=b.get("is_searchable");null!==n&&(g.is_searchable="on"===n);let{error:o}=await e.from("gift_registries").update(g).eq("id",a).eq("user_id",f.id);return o?{error:o.message}:((0,d.revalidatePath)(`/perfil/listas-regalo/${a}`),(0,d.revalidatePath)("/perfil/listas-regalo"),{success:!0})}async function i(a){let b=await (0,c.createClient)(),{data:{user:e}}=await b.auth.getUser();if(!e)return{error:"Debes iniciar sesión"};let{error:f}=await b.from("gift_registries").delete().eq("id",a).eq("user_id",e.id);return f?{error:f.message}:((0,d.revalidatePath)("/perfil/listas-regalo"),{success:!0})}(0,a.i(13095).ensureServerEntryExports)([e,f,g,h,i]),(0,b.registerServerReference)(e,"404ca194ae12d8def00441ace8d3045873cccef6d7",null),(0,b.registerServerReference)(f,"702ca37dd068ff6e0f6b53bfbd5c405eec9d37b08c",null),(0,b.registerServerReference)(g,"60e7299b823c0ba4e33bc33d452493a0ff92920ab0",null),(0,b.registerServerReference)(h,"6079bbdd2d8d510afe38bbbd8ecc3bba6c0b1be899",null),(0,b.registerServerReference)(i,"4076c3a9c19644ddc8b779b85ea83d26e3ba7fddde",null),a.s(["addProductToRegistryAction",()=>f,"createGiftRegistryAction",()=>e])},80835,a=>{"use strict";var b=a.i(54823),c=a.i(13391),d=a.i(45482);a.s([],96693),a.i(96693),a.s(["4059f1a839f6c0c69c56f4e81d9d863d2b808f86ad",()=>b.toggleFavorite,"702ca37dd068ff6e0f6b53bfbd5c405eec9d37b08c",()=>d.addProductToRegistryAction,"70837b105d5a321066405b8404536c25f4c5cd7c17",()=>c.addToWishlistAction],80835)}];

//# sourceMappingURL=_6df1316e._.js.map