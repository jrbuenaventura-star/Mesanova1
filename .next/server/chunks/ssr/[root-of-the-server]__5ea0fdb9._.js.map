{"version":3,"sources":["../../../../components/admin/user-management-table.tsx/__nextjs-internal-proxy.mjs","../../../../components/admin/invite-user-form.tsx/__nextjs-internal-proxy.mjs","../../../../app/admin/users/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const UserManagementTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call UserManagementTable() from the server but UserManagementTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/admin/user-management-table.tsx\",\n    \"UserManagementTable\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const InviteUserForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call InviteUserForm() from the server but InviteUserForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/admin/invite-user-form.tsx\",\n    \"InviteUserForm\",\n);\n","import { createClient } from \"@/lib/supabase/server\"\nimport { redirect } from \"next/navigation\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { UserManagementTable } from \"@/components/admin/user-management-table\"\nimport { InviteUserForm } from \"@/components/admin/invite-user-form\"\n\nexport default async function AdminUsersPage() {\n  const supabase = await createClient()\n\n  // Verificar autenticación y rol\n  const {\n    data: { user },\n  } = await supabase.auth.getUser()\n\n  if (!user) {\n    redirect(\"/auth/login\")\n  }\n\n  const { data: profile } = await supabase.from(\"user_profiles\").select(\"role\").eq(\"id\", user.id).single()\n\n  if (profile?.role !== \"superadmin\") {\n    redirect(\"/\")\n  }\n\n  // Obtener todos los usuarios\n  const { data: users } = await supabase\n    .from(\"user_profiles\")\n    .select(`\n      id,\n      full_name,\n      role,\n      is_active,\n      created_at,\n      last_login_at\n    `)\n    .order(\"created_at\", { ascending: false })\n\n  return (\n    <div className=\"container mx-auto py-10\">\n      <Card>\n        <CardHeader>\n          <CardTitle>Gestión de Usuarios</CardTitle>\n          <CardDescription>Administra roles y permisos de los usuarios registrados</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <InviteUserForm />\n          <UserManagementTable users={users || []} />\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"+VAEO,IAAM,EAAsB,CAAA,EAAA,AADnC,EAAA,CAAA,CAAA,OACmC,uBAAA,AAAuB,EACtD,WAAa,MAAM,AAAI,MAAM,oPAAsP,EACnR,2EACA,gFAHG,IAAM,EAAsB,CAAA,EADnC,AACmC,EADnC,CAAA,CAAA,OACmC,uBAAuB,AAAvB,EAC/B,WAAa,MAAM,AAAI,MAAM,oPAAsP,EACnR,uDACA,2ICHG,IAAM,EAAiB,CAAA,EAD9B,AAC8B,EAD9B,CAAA,CAAA,OAC8B,uBAAA,AAAuB,EACjD,WAAa,MAAM,AAAI,MAAM,0OAA4O,EACzQ,sEACA,sEAHG,IAAM,EAAiB,CAAA,EAAA,AAD9B,EAAA,CAAA,CAAA,OAC8B,uBAAA,AAAuB,EACjD,WAAa,MAAM,AAAI,MAAM,0OAA4O,EACzQ,kDACA,iJCLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,eAAe,IAC5B,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IAG7B,CACJ,KAAM,CAAE,MAAI,CAAE,CACf,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,EAE3B,CAAC,GACH,CAAA,EADS,AACT,EAAA,QAAA,AAAQ,EAAC,eAGX,GAAM,CAAE,KAAM,CAAO,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,iBAAiB,MAAM,CAAC,QAAQ,EAAE,CAAC,KAAM,EAAK,EAAE,EAAE,MAAM,GAElG,GAAS,OAAS,cAAc,AAClC,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,KAIX,GAAM,CAAE,KAAM,CAAK,CAAE,CAAG,MAAM,EAC3B,IAAI,CAAC,iBACL,MAAM,CAAC,CAAC;;;;;;;IAOT,CAAC,EACA,KAAK,CAAC,aAAc,CAAE,WAAW,CAAM,GAE1C,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,WACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,wBACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UAAC,+DAEnB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,WACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAA,GACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,mBAAmB,CAAA,CAAC,MAAO,GAAS,EAAE,UAKjD","ignoreList":[0,1]}