module.exports=[917171,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(497895);function g({className:a,...c}){return(0,b.jsx)(e,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>g],917171)},277687,a=>{"use strict";var b=a.i(572131);let c=0,d=new Map,e=a=>{if(d.has(a))return;let b=setTimeout(()=>{d.delete(a),h({type:"REMOVE_TOAST",toastId:a})},1e6);d.set(a,b)},f=[],g={toasts:[]};function h(a){g=((a,b)=>{switch(b.type){case"ADD_TOAST":return{...a,toasts:[b.toast,...a.toasts].slice(0,1)};case"UPDATE_TOAST":return{...a,toasts:a.toasts.map(a=>a.id===b.toast.id?{...a,...b.toast}:a)};case"DISMISS_TOAST":{let{toastId:c}=b;return c?e(c):a.toasts.forEach(a=>{e(a.id)}),{...a,toasts:a.toasts.map(a=>a.id===c||void 0===c?{...a,open:!1}:a)}}case"REMOVE_TOAST":if(void 0===b.toastId)return{...a,toasts:[]};return{...a,toasts:a.toasts.filter(a=>a.id!==b.toastId)}}})(g,a),f.forEach(a=>{a(g)})}function i({...a}){let b=(c=(c+1)%Number.MAX_SAFE_INTEGER).toString(),d=()=>h({type:"DISMISS_TOAST",toastId:b});return h({type:"ADD_TOAST",toast:{...a,id:b,open:!0,onOpenChange:a=>{a||d()}}}),{id:b,dismiss:d,update:a=>h({type:"UPDATE_TOAST",toast:{...a,id:b}})}}function j(){let[a,c]=b.useState(g);return b.useEffect(()=>(f.push(c),()=>{let a=f.indexOf(c);a>-1&&f.splice(a,1)}),[a]),{...a,toast:i,dismiss:a=>h({type:"DISMISS_TOAST",toastId:a})}}a.s(["toast",()=>i,"useToast",()=>j])},788940,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(269240),f=a.i(340695),g=a.i(205522),h=a.i(917171),i=a.i(277687),j=a.i(596221);function k({aliado:a,userProfile:k}){let l=(0,d.useRouter)(),{toast:m}=(0,i.useToast)(),n=(0,e.createClient)(),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)({company_name:a.company_name||"",contact_name:a.contact_name||k.full_name||"",email:a.email||"",phone:a.phone||k.phone||""}),s=(a,b)=>{r(c=>({...c,[a]:b}))},t=async b=>{b.preventDefault(),p(!0);try{let{error:b}=await n.from("aliados").update({company_name:q.company_name,contact_name:q.contact_name,email:q.email,phone:q.phone}).eq("id",a.id);if(b)throw b;m({title:"Perfil actualizado",description:"Los cambios se han guardado correctamente"}),l.refresh()}catch(a){m({title:"Error",description:a.message||"No se pudo guardar el perfil",variant:"destructive"})}finally{p(!1)}};return(0,b.jsxs)("form",{onSubmit:t,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,b.jsx)(h.Label,{htmlFor:"company_name",children:"Empresa"}),(0,b.jsx)(g.Input,{id:"company_name",value:q.company_name,onChange:a=>s("company_name",a.target.value),placeholder:"Nombre de la empresa"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"contact_name",children:"Nombre de contacto"}),(0,b.jsx)(g.Input,{id:"contact_name",value:q.contact_name,onChange:a=>s("contact_name",a.target.value),placeholder:"Nombre y apellido"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"phone",children:"TelÃ©fono"}),(0,b.jsx)(g.Input,{id:"phone",value:q.phone,onChange:a=>s("phone",a.target.value),placeholder:"+57 300 000 0000"})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,b.jsx)(h.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(g.Input,{id:"email",type:"email",value:q.email,onChange:a=>s("email",a.target.value),placeholder:"correo@empresa.com"})]})]}),(0,b.jsxs)(f.Button,{type:"submit",disabled:o,className:"w-full",children:[o&&(0,b.jsx)(j.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardar cambios"]})]})}a.s(["AliadoProfileForm",()=>k])}];

//# sourceMappingURL=_533a1dcb._.js.map