{"version":3,"sources":["../../../../components/admin/clients-management.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@/components/ui/dropdown-menu\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Plus, Search, MoreVertical, Users, Pencil, Trash2 } from \"lucide-react\"\nimport { useRouter } from \"next/navigation\"\nimport type { Company, CompanyContact, Distributor, UserProfile } from \"@/lib/db/types\"\n\ninterface CompanyWithRelations extends Company {\n  contacts?: CompanyContact[]\n  distributor?: Distributor & { profile?: UserProfile }\n}\n\nexport function ClientsManagement() {\n  const router = useRouter()\n  const [companies, setCompanies] = useState<CompanyWithRelations[]>([])\n  const [distributors, setDistributors] = useState<(Distributor & { profile?: UserProfile })[]>([])\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [isLoading, setIsLoading] = useState(true)\n  const [showCompanyDialog, setShowCompanyDialog] = useState(false)\n  const [showContactsDialog, setShowContactsDialog] = useState(false)\n  const [selectedCompany, setSelectedCompany] = useState<CompanyWithRelations | null>(null)\n  const [formData, setFormData] = useState<Partial<Company>>({\n    razon_social: \"\",\n    nit: \"\",\n    pais: \"Colombia\",\n    descuento_general: 0,\n    limite_credito: 0,\n    is_active: true,\n  })\n\n  useEffect(() => {\n    loadCompanies()\n    loadDistributors()\n  }, [])\n\n  async function loadCompanies() {\n    const supabase = createClient()\n    const { data, error } = await supabase\n      .from(\"companies\")\n      .select(`\n        *,\n        contacts:company_contacts(*),\n        distributor:distributors(*, profile:user_profiles(*))\n      `)\n      .order(\"razon_social\", { ascending: true })\n\n    if (!error && data) {\n      setCompanies(data as CompanyWithRelations[])\n    }\n    setIsLoading(false)\n  }\n\n  async function loadDistributors() {\n    const supabase = createClient()\n    const { data } = await supabase.from(\"distributors\").select(\"*, profile:user_profiles(*)\").eq(\"is_active\", true)\n\n    if (data) {\n      setDistributors(data as (Distributor & { profile?: UserProfile })[])\n    }\n  }\n\n  async function handleSaveCompany() {\n    const supabase = createClient()\n    const {\n      data: { user },\n    } = await supabase.auth.getUser()\n\n    if (selectedCompany) {\n      const { error } = await supabase\n        .from(\"companies\")\n        .update({ ...formData, updated_by: user?.id })\n        .eq(\"id\", selectedCompany.id)\n\n      if (!error) {\n        await loadCompanies()\n        setShowCompanyDialog(false)\n        resetForm()\n      }\n    } else {\n      const { error } = await supabase.from(\"companies\").insert([{ ...formData, created_by: user?.id }])\n\n      if (!error) {\n        await loadCompanies()\n        setShowCompanyDialog(false)\n        resetForm()\n      }\n    }\n  }\n\n  async function handleDeleteCompany(id: string) {\n    if (!confirm(\"¿Está seguro de eliminar este cliente?\")) return\n\n    const supabase = createClient()\n    const { error } = await supabase.from(\"companies\").delete().eq(\"id\", id)\n\n    if (!error) {\n      await loadCompanies()\n    }\n  }\n\n  function resetForm() {\n    setFormData({\n      razon_social: \"\",\n      nit: \"\",\n      pais: \"Colombia\",\n      descuento_general: 0,\n      limite_credito: 0,\n      is_active: true,\n    })\n    setSelectedCompany(null)\n  }\n\n  function openEditDialog(company: CompanyWithRelations) {\n    setSelectedCompany(company)\n    setFormData(company)\n    setShowCompanyDialog(true)\n  }\n\n  function openContactsDialog(company: CompanyWithRelations) {\n    setSelectedCompany(company)\n    router.push(`/admin/clients/${company.id}/contacts`)\n  }\n\n  const filteredCompanies = companies.filter(\n    (c) =>\n      c.razon_social?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      c.nit?.includes(searchTerm) ||\n      c.email_principal?.toLowerCase().includes(searchTerm.toLowerCase()),\n  )\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between gap-4\">\n        <div className=\"relative flex-1 max-w-md\">\n          <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n          <Input\n            placeholder=\"Buscar por razón social, NIT o email...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"pl-10\"\n          />\n        </div>\n        <Button onClick={() => setShowCompanyDialog(true)}>\n          <Plus className=\"mr-2 h-4 w-4\" />\n          Agregar Cliente\n        </Button>\n      </div>\n\n      <div className=\"rounded-md border\">\n        <Table>\n          <TableHeader>\n            <TableRow>\n              <TableHead>Razón Social</TableHead>\n              <TableHead>NIT</TableHead>\n              <TableHead>Ciudad</TableHead>\n              <TableHead>Distribuidor Asignado</TableHead>\n              <TableHead>Contactos</TableHead>\n              <TableHead>Crédito</TableHead>\n              <TableHead>Estado</TableHead>\n              <TableHead className=\"w-[50px]\"></TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {filteredCompanies.map((company) => (\n              <TableRow key={company.id}>\n                <TableCell className=\"font-medium\">\n                  <div>\n                    <div>{company.razon_social}</div>\n                    {company.nombre_comercial && (\n                      <div className=\"text-sm text-muted-foreground\">{company.nombre_comercial}</div>\n                    )}\n                  </div>\n                </TableCell>\n                <TableCell>{company.nit}</TableCell>\n                <TableCell>{company.ciudad || \"-\"}</TableCell>\n                <TableCell>{company.distributor?.profile?.full_name || \"-\"}</TableCell>\n                <TableCell>\n                  <Button variant=\"ghost\" size=\"sm\" onClick={() => openContactsDialog(company)}>\n                    <Users className=\"mr-2 h-4 w-4\" />\n                    {company.contacts?.length || 0}\n                  </Button>\n                </TableCell>\n                <TableCell>${company.limite_credito.toLocaleString()}</TableCell>\n                <TableCell>\n                  <Badge variant={company.is_active ? \"default\" : \"secondary\"}>\n                    {company.is_active ? \"Activo\" : \"Inactivo\"}\n                  </Badge>\n                </TableCell>\n                <TableCell>\n                  <DropdownMenu>\n                    <DropdownMenuTrigger asChild>\n                      <Button variant=\"ghost\" size=\"icon\">\n                        <MoreVertical className=\"h-4 w-4\" />\n                      </Button>\n                    </DropdownMenuTrigger>\n                    <DropdownMenuContent align=\"end\">\n                      <DropdownMenuItem onClick={() => openEditDialog(company)}>\n                        <Pencil className=\"mr-2 h-4 w-4\" />\n                        Editar\n                      </DropdownMenuItem>\n                      <DropdownMenuItem onClick={() => openContactsDialog(company)}>\n                        <Users className=\"mr-2 h-4 w-4\" />\n                        Gestionar Contactos\n                      </DropdownMenuItem>\n                      <DropdownMenuItem onClick={() => handleDeleteCompany(company.id)} className=\"text-red-600\">\n                        <Trash2 className=\"mr-2 h-4 w-4\" />\n                        Eliminar\n                      </DropdownMenuItem>\n                    </DropdownMenuContent>\n                  </DropdownMenu>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </div>\n\n      <Dialog open={showCompanyDialog} onOpenChange={setShowCompanyDialog}>\n        <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>{selectedCompany ? \"Editar Cliente\" : \"Nuevo Cliente\"}</DialogTitle>\n            <DialogDescription>Complete la información del cliente empresarial</DialogDescription>\n          </DialogHeader>\n\n          <div className=\"grid gap-4 py-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"razon_social\">Razón Social *</Label>\n                <Input\n                  id=\"razon_social\"\n                  value={formData.razon_social}\n                  onChange={(e) => setFormData({ ...formData, razon_social: e.target.value })}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"nit\">NIT *</Label>\n                <Input\n                  id=\"nit\"\n                  value={formData.nit}\n                  onChange={(e) => setFormData({ ...formData, nit: e.target.value })}\n                />\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"nombre_comercial\">Nombre Comercial</Label>\n                <Input\n                  id=\"nombre_comercial\"\n                  value={formData.nombre_comercial || \"\"}\n                  onChange={(e) => setFormData({ ...formData, nombre_comercial: e.target.value })}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"tipo_empresa\">Tipo de Empresa</Label>\n                <Input\n                  id=\"tipo_empresa\"\n                  value={formData.tipo_empresa || \"\"}\n                  onChange={(e) => setFormData({ ...formData, tipo_empresa: e.target.value })}\n                  placeholder=\"Restaurante, Hotel, etc.\"\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"direccion\">Dirección</Label>\n              <Textarea\n                id=\"direccion\"\n                value={formData.direccion || \"\"}\n                onChange={(e) => setFormData({ ...formData, direccion: e.target.value })}\n              />\n            </div>\n\n            <div className=\"grid grid-cols-4 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"ciudad\">Ciudad</Label>\n                <Input\n                  id=\"ciudad\"\n                  value={formData.ciudad || \"\"}\n                  onChange={(e) => setFormData({ ...formData, ciudad: e.target.value })}\n                  placeholder=\"Ej: Bogotá\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"estado\">Departamento</Label>\n                <Input\n                  id=\"estado\"\n                  value={formData.estado || \"\"}\n                  onChange={(e) => setFormData({ ...formData, estado: e.target.value })}\n                  placeholder=\"Ej: Cundinamarca\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"codigo_postal\">Código Postal</Label>\n                <Input\n                  id=\"codigo_postal\"\n                  value={formData.codigo_postal || \"\"}\n                  onChange={(e) => setFormData({ ...formData, codigo_postal: e.target.value })}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"pais\">País</Label>\n                <Input\n                  id=\"pais\"\n                  value={formData.pais || \"Colombia\"}\n                  onChange={(e) => setFormData({ ...formData, pais: e.target.value })}\n                />\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"telefono_principal\">Teléfono Principal</Label>\n                <Input\n                  id=\"telefono_principal\"\n                  value={formData.telefono_principal || \"\"}\n                  onChange={(e) => setFormData({ ...formData, telefono_principal: e.target.value })}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email_principal\">Email Principal</Label>\n                <Input\n                  id=\"email_principal\"\n                  type=\"email\"\n                  value={formData.email_principal || \"\"}\n                  onChange={(e) => setFormData({ ...formData, email_principal: e.target.value })}\n                />\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"terminos_pago\">Términos de Pago</Label>\n                <Select\n                  value={formData.terminos_pago || \"\"}\n                  onValueChange={(value) => setFormData({ ...formData, terminos_pago: value })}\n                >\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Seleccionar...\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"Contado\">Contado</SelectItem>\n                    <SelectItem value=\"15 días\">15 días</SelectItem>\n                    <SelectItem value=\"30 días\">30 días</SelectItem>\n                    <SelectItem value=\"45 días\">45 días</SelectItem>\n                    <SelectItem value=\"60 días\">60 días</SelectItem>\n                    <SelectItem value=\"90 días\">90 días</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"descuento_general\">Descuento General (%)</Label>\n                <Input\n                  id=\"descuento_general\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  value={formData.descuento_general || 0}\n                  onChange={(e) => setFormData({ ...formData, descuento_general: Number.parseFloat(e.target.value) })}\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"limite_credito\">Límite de Crédito</Label>\n              <Input\n                id=\"limite_credito\"\n                type=\"number\"\n                step=\"0.01\"\n                value={formData.limite_credito || 0}\n                onChange={(e) => setFormData({ ...formData, limite_credito: Number.parseFloat(e.target.value) })}\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"distribuidor_asignado_id\">Distribuidor Asignado</Label>\n              <Select\n                value={formData.distribuidor_asignado_id || \"\"}\n                onValueChange={(value) => setFormData({ ...formData, distribuidor_asignado_id: value })}\n              >\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Seleccionar distribuidor...\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {distributors.map((dist) => (\n                    <SelectItem key={dist.id} value={dist.id}>\n                      {dist.profile?.full_name || dist.company_name}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"notas\">Notas</Label>\n              <Textarea\n                id=\"notas\"\n                value={formData.notas || \"\"}\n                onChange={(e) => setFormData({ ...formData, notas: e.target.value })}\n                rows={3}\n              />\n            </div>\n          </div>\n\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => {\n                setShowCompanyDialog(false)\n                resetForm()\n              }}\n            >\n              Cancelar\n            </Button>\n            <Button onClick={handleSaveCompany}>Guardar Cliente</Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}