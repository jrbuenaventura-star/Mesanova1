module.exports=[400368,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(256711),e=a.i(202253),f=a.i(724669),g=a.i(660246),h=a.i(538784),i=a.i(790166),j=a.i(170106);let k=(0,j.default)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var l=a.i(292e3),m=a.i(669520);let n=(0,j.default)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var o=a.i(839761),p=a.i(641710),q=a.i(816201),r=a.i(703130),s=a.i(254161),t=a.i(340695),u=a.i(602150),v=a.i(588237),w=a.i(621958);function x({agentId:a}){let[j,x]=(0,c.useState)(null),[y,z]=(0,c.useState)([]),[A,B]=(0,c.useState)([]),[C,D]=(0,c.useState)([]),[E,F]=(0,c.useState)([]),[G,H]=(0,c.useState)(!0);(0,c.useEffect)(()=>{I()},[a]);let I=async()=>{H(!0);try{x({totalCommissions:158e5,pendingCommissions:42e5,paidCommissions:116e5,totalOrders:156,totalSales:45e7,monthlySalesTarget:5e7,currentMonthSales:385e5,assignedDistributors:12,activeDistributors:10}),z([{id:"1",companyName:"Distribuidora El Éxito",rif:"J-12345678-9",commissionRate:3.5,lastPurchaseDate:"2026-01-15",totalPurchases:45,purchaseFrequency:4.2,segment:"vip",currentMonthSales:85e5},{id:"2",companyName:"Comercial La Gran Tienda",rif:"J-23456789-0",commissionRate:3,lastPurchaseDate:"2026-01-12",totalPurchases:32,purchaseFrequency:3.5,segment:"leal",currentMonthSales:62e5},{id:"3",companyName:"Almacén Don José",rif:"J-34567890-1",commissionRate:3.5,lastPurchaseDate:"2026-01-08",totalPurchases:28,purchaseFrequency:2.8,segment:"regular",currentMonthSales:41e5},{id:"4",companyName:"Hogar & Cocina SAS",rif:"J-45678901-2",commissionRate:4,lastPurchaseDate:"2025-12-20",totalPurchases:18,purchaseFrequency:2,segment:"en_riesgo",currentMonthSales:0},{id:"5",companyName:"Tiendas del Norte",rif:"J-56789012-3",commissionRate:3,lastPurchaseDate:"2025-11-15",totalPurchases:12,purchaseFrequency:1.2,segment:"dormido",currentMonthSales:0}]),B([{id:"1",orderNumber:"2026-000145",distributorName:"Distribuidora El Éxito",date:"2026-01-15",status:"delivered",total:45e5,commissionAmount:157500,commissionStatus:"pending"},{id:"2",orderNumber:"2026-000142",distributorName:"Comercial La Gran Tienda",date:"2026-01-12",status:"shipped",total:32e5,commissionAmount:96e3,commissionStatus:"pending"},{id:"3",orderNumber:"2026-000138",distributorName:"Almacén Don José",date:"2026-01-08",status:"delivered",total:21e5,commissionAmount:73500,commissionStatus:"approved"},{id:"4",orderNumber:"2026-000125",distributorName:"Distribuidora El Éxito",date:"2025-12-28",status:"delivered",total:58e5,commissionAmount:203e3,commissionStatus:"paid"}]),D([{id:"1",orderNumber:"2026-000145",distributorName:"Distribuidora El Éxito",orderDate:"2026-01-15",invoicePaidAt:null,commissionDueAt:"2026-04-15",amount:157500,status:"pending"},{id:"2",orderNumber:"2026-000142",distributorName:"Comercial La Gran Tienda",orderDate:"2026-01-12",invoicePaidAt:null,commissionDueAt:"2026-04-12",amount:96e3,status:"pending"},{id:"3",orderNumber:"2026-000138",distributorName:"Almacén Don José",orderDate:"2026-01-08",invoicePaidAt:"2026-01-10",commissionDueAt:"2026-04-10",amount:73500,status:"approved"},{id:"4",orderNumber:"2025-000125",distributorName:"Distribuidora El Éxito",orderDate:"2025-12-28",invoicePaidAt:"2025-12-30",commissionDueAt:"2026-03-30",amount:203e3,status:"paid"}]),F([{category:"Cocina",sales:145e6,percentage:32},{category:"Mesa",sales:108e6,percentage:24},{category:"Café-Té-Bar",sales:9e7,percentage:20},{category:"Termos-Neveras",sales:63e6,percentage:14},{category:"HoReCa",sales:44e6,percentage:10}])}catch(a){console.error("Error fetching dashboard data:",a)}finally{H(!1)}},J=a=>{let c={pending:{variant:"outline",label:"Pendiente"},approved:{variant:"secondary",label:"Aprobada"},paid:{variant:"default",label:"Pagada"},cancelled:{variant:"destructive",label:"Cancelada"}}[a]||{variant:"outline",label:a};return(0,b.jsx)(s.Badge,{variant:c.variant,children:c.label})};if(G)return(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(m.RefreshCw,{className:"w-8 h-8 animate-spin text-primary"})});let K=(j?.currentMonthSales||0)/(j?.monthlySalesTarget||1)*100;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Panel de Corredor"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Centro de control de ventas y comisiones"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(t.Button,{variant:"outline",onClick:I,children:[(0,b.jsx)(m.RefreshCw,{className:"w-4 h-4 mr-2"}),"Actualizar"]}),(0,b.jsxs)(t.Button,{children:[(0,b.jsx)(h.ShoppingCart,{className:"w-4 h-4 mr-2"}),"Nuevo Pedido"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsxs)(r.Card,{children:[(0,b.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Comisiones Totales"}),(0,b.jsx)(i.DollarSign,{className:"w-4 h-4 text-muted-foreground"})]}),(0,b.jsxs)(r.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",(j?.totalCommissions||0).toLocaleString()]}),(0,b.jsx)("div",{className:"flex gap-4 text-xs mt-1",children:(0,b.jsxs)("span",{className:"text-amber-600",children:["Pendiente: $",(j?.pendingCommissions||0).toLocaleString()]})})]})]}),(0,b.jsxs)(r.Card,{children:[(0,b.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Ventas Totales"}),(0,b.jsx)(f.TrendingUp,{className:"w-4 h-4 text-muted-foreground"})]}),(0,b.jsxs)(r.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",(j?.totalSales||0).toLocaleString()]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[j?.totalOrders," pedidos generados"]})]})]}),(0,b.jsxs)(r.Card,{children:[(0,b.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Distribuidores"}),(0,b.jsx)(g.Users,{className:"w-4 h-4 text-muted-foreground"})]}),(0,b.jsxs)(r.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:[j?.activeDistributors,"/",j?.assignedDistributors]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"activos este mes"})]})]}),(0,b.jsxs)(r.Card,{children:[(0,b.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Objetivo Mensual"}),(0,b.jsx)(k,{className:"w-4 h-4 text-muted-foreground"})]}),(0,b.jsxs)(r.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:[K.toFixed(0),"%"]}),(0,b.jsx)(u.Progress,{value:K,className:"mt-2 h-2"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["$",(j?.currentMonthSales||0).toLocaleString()," / $",(j?.monthlySalesTarget||0).toLocaleString()]})]})]})]}),(0,b.jsxs)(r.Card,{children:[(0,b.jsx)(r.CardHeader,{children:(0,b.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(o.BarChart3,{className:"w-5 h-5"}),"Distribución de Ventas por Categoría"]})}),(0,b.jsx)(r.CardContent,{children:(0,b.jsx)("div",{className:"grid grid-cols-5 gap-4",children:E.map(a=>(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:[a.percentage,"%"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.category}),(0,b.jsxs)("p",{className:"text-xs",children:["$",(a.sales/1e6).toFixed(0),"M"]})]},a.category))})})]}),(0,b.jsxs)(w.Tabs,{defaultValue:"distributors",className:"w-full",children:[(0,b.jsxs)(w.TabsList,{children:[(0,b.jsx)(w.TabsTrigger,{value:"distributors",children:"Mis Distribuidores"}),(0,b.jsx)(w.TabsTrigger,{value:"orders",children:"Pedidos Recientes"}),(0,b.jsx)(w.TabsTrigger,{value:"commissions",children:"Comisiones"})]}),(0,b.jsx)(w.TabsContent,{value:"distributors",className:"mt-4",children:(0,b.jsxs)(r.Card,{children:[(0,b.jsxs)(r.CardHeader,{children:[(0,b.jsx)(r.CardTitle,{children:"Distribuidores Asignados"}),(0,b.jsx)(r.CardDescription,{children:"Métricas RFM y estado de cada distribuidor"})]}),(0,b.jsx)(r.CardContent,{children:(0,b.jsxs)(v.Table,{children:[(0,b.jsx)(v.TableHeader,{children:(0,b.jsxs)(v.TableRow,{children:[(0,b.jsx)(v.TableHead,{children:"Empresa"}),(0,b.jsx)(v.TableHead,{children:"Comisión"}),(0,b.jsx)(v.TableHead,{children:"Recencia"}),(0,b.jsx)(v.TableHead,{children:"Frecuencia"}),(0,b.jsx)(v.TableHead,{children:"Ventas Mes"}),(0,b.jsx)(v.TableHead,{children:"Segmento"}),(0,b.jsx)(v.TableHead,{children:"Acción"})]})}),(0,b.jsx)(v.TableBody,{children:y.map(a=>(0,b.jsxs)(v.TableRow,{children:[(0,b.jsx)(v.TableCell,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.companyName}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.rif})]})}),(0,b.jsxs)(v.TableCell,{children:[a.commissionRate,"%"]}),(0,b.jsx)(v.TableCell,{children:(a=>{if(!a)return(0,b.jsx)("span",{className:"text-red-500",children:"Nunca"});let c=(0,e.differenceInDays)(new Date,new Date(a));return c<=30?(0,b.jsxs)("span",{className:"text-green-600",children:[c," días"]}):c<=60?(0,b.jsxs)("span",{className:"text-amber-600",children:[c," días"]}):(0,b.jsxs)("span",{className:"text-red-600",children:[c," días"]})})(a.lastPurchaseDate)}),(0,b.jsxs)(v.TableCell,{children:[a.purchaseFrequency.toFixed(1),"/año"]}),(0,b.jsx)(v.TableCell,{children:a.currentMonthSales>0?`$${a.currentMonthSales.toLocaleString()}`:(0,b.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,b.jsx)(v.TableCell,{children:(a=>{let{color:c,label:d}={vip:{color:"bg-purple-100 text-purple-800",label:"VIP"},leal:{color:"bg-green-100 text-green-800",label:"Leal"},regular:{color:"bg-blue-100 text-blue-800",label:"Regular"},ocasional:{color:"bg-gray-100 text-gray-800",label:"Ocasional"},en_riesgo:{color:"bg-amber-100 text-amber-800",label:"En riesgo"},dormido:{color:"bg-red-100 text-red-800",label:"Dormido"}}[a]||{color:"bg-gray-100",label:a};return(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${c}`,children:d})})(a.segment)}),(0,b.jsx)(v.TableCell,{children:(0,b.jsxs)(t.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(h.ShoppingCart,{className:"w-3 h-3 mr-1"}),"Pedir"]})})]},a.id))})]})})]})}),(0,b.jsx)(w.TabsContent,{value:"orders",className:"mt-4",children:(0,b.jsxs)(r.Card,{children:[(0,b.jsxs)(r.CardHeader,{children:[(0,b.jsx)(r.CardTitle,{children:"Pedidos Recientes"}),(0,b.jsx)(r.CardDescription,{children:"Últimos pedidos generados para tus distribuidores"})]}),(0,b.jsx)(r.CardContent,{children:(0,b.jsxs)(v.Table,{children:[(0,b.jsx)(v.TableHeader,{children:(0,b.jsxs)(v.TableRow,{children:[(0,b.jsx)(v.TableHead,{children:"Pedido"}),(0,b.jsx)(v.TableHead,{children:"Distribuidor"}),(0,b.jsx)(v.TableHead,{children:"Fecha"}),(0,b.jsx)(v.TableHead,{children:"Total"}),(0,b.jsx)(v.TableHead,{children:"Comisión"}),(0,b.jsx)(v.TableHead,{children:"Estado"})]})}),(0,b.jsx)(v.TableBody,{children:A.map(a=>(0,b.jsxs)(v.TableRow,{children:[(0,b.jsx)(v.TableCell,{className:"font-mono",children:a.orderNumber}),(0,b.jsx)(v.TableCell,{children:a.distributorName}),(0,b.jsx)(v.TableCell,{children:(0,d.format)(new Date(a.date),"dd/MM/yyyy")}),(0,b.jsxs)(v.TableCell,{children:["$",a.total.toLocaleString()]}),(0,b.jsxs)(v.TableCell,{className:"text-green-600",children:["$",a.commissionAmount.toLocaleString()]}),(0,b.jsx)(v.TableCell,{children:J(a.commissionStatus)})]},a.id))})]})})]})}),(0,b.jsx)(w.TabsContent,{value:"commissions",className:"mt-4",children:(0,b.jsxs)(r.Card,{children:[(0,b.jsxs)(r.CardHeader,{children:[(0,b.jsx)(r.CardTitle,{children:"Detalle de Comisiones"}),(0,b.jsx)(r.CardDescription,{children:"Las comisiones se pagan cuando la factura es cancelada antes de 90 días"})]}),(0,b.jsxs)(r.CardContent,{children:[(0,b.jsxs)(v.Table,{children:[(0,b.jsx)(v.TableHeader,{children:(0,b.jsxs)(v.TableRow,{children:[(0,b.jsx)(v.TableHead,{children:"Pedido"}),(0,b.jsx)(v.TableHead,{children:"Distribuidor"}),(0,b.jsx)(v.TableHead,{children:"Fecha Pedido"}),(0,b.jsx)(v.TableHead,{children:"Factura Pagada"}),(0,b.jsx)(v.TableHead,{children:"Vence"}),(0,b.jsx)(v.TableHead,{children:"Monto"}),(0,b.jsx)(v.TableHead,{children:"Estado"})]})}),(0,b.jsx)(v.TableBody,{children:C.map(a=>(0,b.jsxs)(v.TableRow,{children:[(0,b.jsx)(v.TableCell,{className:"font-mono",children:a.orderNumber}),(0,b.jsx)(v.TableCell,{children:a.distributorName}),(0,b.jsx)(v.TableCell,{children:(0,d.format)(new Date(a.orderDate),"dd/MM/yyyy")}),(0,b.jsx)(v.TableCell,{children:a.invoicePaidAt?(0,b.jsxs)("span",{className:"text-green-600 flex items-center gap-1",children:[(0,b.jsx)(q.CheckCircle,{className:"w-3 h-3"}),(0,d.format)(new Date(a.invoicePaidAt),"dd/MM/yyyy")]}):(0,b.jsxs)("span",{className:"text-muted-foreground flex items-center gap-1",children:[(0,b.jsx)(p.Clock,{className:"w-3 h-3"}),"Pendiente"]})}),(0,b.jsx)(v.TableCell,{children:(0,d.format)(new Date(a.commissionDueAt),"dd/MM/yyyy")}),(0,b.jsxs)(v.TableCell,{className:"font-medium text-green-600",children:["$",a.amount.toLocaleString()]}),(0,b.jsx)(v.TableCell,{children:J(a.status)})]},a.id))})]}),(0,b.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-4 p-4 bg-muted rounded-lg",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-lg font-bold text-amber-600",children:["$",(j?.pendingCommissions||0).toLocaleString()]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pendientes"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:["$",C.filter(a=>"approved"===a.status).reduce((a,b)=>a+b.amount,0).toLocaleString()]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aprobadas"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-lg font-bold text-green-600",children:["$",(j?.paidCommissions||0).toLocaleString()]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pagadas"})]})]})]})]})})]}),(0,b.jsxs)(r.Card,{className:"border-amber-200 bg-amber-50",children:[(0,b.jsx)(r.CardHeader,{children:(0,b.jsxs)(r.CardTitle,{className:"flex items-center gap-2 text-amber-800",children:[(0,b.jsx)(l.AlertCircle,{className:"w-5 h-5"}),"Alertas de Gestión"]})}),(0,b.jsx)(r.CardContent,{children:(0,b.jsxs)("ul",{className:"space-y-2 text-sm text-amber-700",children:[(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Clock,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"2 distribuidores no han comprado en más de 30 días"})]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(k,{className:"w-4 h-4"}),(0,b.jsxs)("span",{children:["Te faltan $",((j?.monthlySalesTarget||0)-(j?.currentMonthSales||0)).toLocaleString()," para cumplir el objetivo mensual"]})]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(n,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"3 comisiones próximas a vencer en los próximos 15 días"})]})]})})]})]})}a.s(["AgentDashboard",()=>x],400368)}];

//# sourceMappingURL=components_canal_agent-dashboard_tsx_57251405._.js.map