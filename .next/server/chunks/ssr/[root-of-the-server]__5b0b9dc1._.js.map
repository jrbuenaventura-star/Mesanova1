{"version":3,"sources":["../../../../app/distributor/clients/page.tsx"],"sourcesContent":["import { createClient } from \"@/lib/supabase/server\"\nimport { redirect } from \"next/navigation\"\n\nexport default async function DistributorClientsPage() {\n  const supabase = await createClient()\n  const {\n    data: { user },\n  } = await supabase.auth.getUser()\n\n  if (!user) {\n    redirect(\"/auth/login\")\n  }\n\n  // Obtener distribuidor\n  const { data: distributor } = await supabase\n    .from(\"distributors\")\n    .select(\"id, company_name\")\n    .eq(\"user_id\", user.id)\n    .single()\n\n  if (!distributor) {\n    return <div>No tienes un perfil de distribuidor configurado</div>\n  }\n\n  // Obtener clientes asignados\n  const { data: companies } = await supabase\n    .from(\"companies\")\n    .select(\"*\")\n    .eq(\"distribuidor_asignado_id\", distributor.id)\n    .eq(\"is_active\", true)\n    .order(\"razon_social\")\n\n  return (\n    <div className=\"container mx-auto py-8 px-4\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold mb-2\">Mis Clientes</h1>\n        <p className=\"text-muted-foreground\">Clientes asignados a {distributor.company_name}</p>\n      </div>\n\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n        {companies?.map((company) => (\n          <div key={company.id} className=\"border rounded-lg p-4\">\n            <h3 className=\"font-semibold\">{company.razon_social}</h3>\n            {company.nombre_comercial && <p className=\"text-sm text-muted-foreground\">{company.nombre_comercial}</p>}\n            <div className=\"mt-2 space-y-1 text-sm\">\n              <p>\n                <strong>NIT:</strong> {company.nit}\n              </p>\n              {company.ciudad && (\n                <p>\n                  <strong>Ciudad:</strong> {company.ciudad}\n                </p>\n              )}\n              {company.telefono_principal && (\n                <p>\n                  <strong>Tel:</strong> {company.telefono_principal}\n                </p>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"+WAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEe,eAAe,IAC5B,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IAC7B,CACJ,KAAM,MAAE,CAAI,CAAE,CACf,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,EAE3B,CAAC,GACH,CAAA,EADS,AACT,EAAA,QAAA,AAAQ,EAAC,eAIX,GAAM,CAAE,KAAM,CAAW,CAAE,CAAG,MAAM,EACjC,IAAI,CAAC,gBACL,MAAM,CAAC,oBACP,EAAE,CAAC,UAAW,EAAK,EAAE,EACrB,MAAM,GAET,GAAI,CAAC,EACH,MAAO,CAAA,EAAA,EADS,AACT,GAAA,EAAC,MAAA,UAAI,oDAId,GAAM,CAAE,KAAM,CAAS,CAAE,CAAG,MAAM,EAC/B,IAAI,CAAC,aACL,MAAM,CAAC,KACP,EAAE,CAAC,2BAA4B,EAAY,EAAE,EAC7C,EAAE,CAAC,YAAa,IAChB,KAAK,CAAC,gBAET,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,iBACxC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,kCAAwB,wBAAsB,EAAY,YAAY,OAGrF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oDACZ,GAAW,IAAI,AAAC,GACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAqB,UAAU,kCAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yBAAiB,EAAQ,YAAY,GAClD,EAAQ,gBAAgB,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAiC,EAAQ,gBAAgB,GACnG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,SAAa,IAAE,EAAQ,GAAG,IAEnC,EAAQ,MAAM,EACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,YAAgB,IAAE,EAAQ,MAAM,IAG3C,EAAQ,kBAAkB,EACzB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,SAAa,IAAE,EAAQ,kBAAkB,SAd/C,EAAQ,EAAE,OAuB9B"}