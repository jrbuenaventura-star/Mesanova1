module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70864,a=>{a.n(a.i(233290))},102894,a=>{a.n(a.i(666188))},13718,a=>{a.n(a.i(685523))},118198,a=>{a.n(a.i(545518))},262212,a=>{a.n(a.i(866114))},640088,a=>{"use strict";var b=a.i(907997),c=a.i(289246),d=a.i(596942),e=a.i(182248);let f=(0,d.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},246840,a=>{"use strict";let b=(0,a.i(701269).default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);a.s(["Building2",()=>b],246840)},671859,a=>{"use strict";var b=a.i(907997),c=a.i(596942),d=a.i(182248);let e=(0,c.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,d.cn)(e({variant:c}),a),...f})}function g({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-title",className:(0,d.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",a),...c})}function h({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-description",className:(0,d.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...c})}a.s(["Alert",()=>f,"AlertDescription",()=>h,"AlertTitle",()=>g])},728783,a=>{"use strict";let b=(0,a.i(701269).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);a.s(["Mail",()=>b],728783)},881335,a=>{a.n(a.i(662062))},356603,a=>{"use strict";let b=(0,a.i(701269).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],356603)},740020,a=>{"use strict";let b=(0,a.i(701269).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],740020)},682604,a=>{"use strict";let b=(0,a.i(701269).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],682604)},271191,a=>{"use strict";let b=(0,a.i(701269).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);a.s(["Phone",()=>b],271191)},498888,a=>{"use strict";let b=(0,a.i(701269).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],498888)},594416,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call DistributorProfileForm() from the server but DistributorProfileForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/distributor/profile-form.tsx <module evaluation>","DistributorProfileForm");a.s(["DistributorProfileForm",0,b])},673897,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call DistributorProfileForm() from the server but DistributorProfileForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/distributor/profile-form.tsx","DistributorProfileForm");a.s(["DistributorProfileForm",0,b])},438390,a=>{"use strict";a.i(594416);var b=a.i(673897);a.n(b)},776848,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call DocumentUploader() from the server but DocumentUploader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/distributor/document-uploader.tsx <module evaluation>","DocumentUploader");a.s(["DocumentUploader",0,b])},915814,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call DocumentUploader() from the server but DocumentUploader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/distributor/document-uploader.tsx","DocumentUploader");a.s(["DocumentUploader",0,b])},617639,a=>{"use strict";a.i(776848);var b=a.i(915814);a.n(b)},210996,a=>{"use strict";var b=a.i(907997),c=a.i(998310);a.i(570396);var d=a.i(673727),e=a.i(529171),f=a.i(640088),g=a.i(671859),h=a.i(246840),i=a.i(740020),j=a.i(271191),k=a.i(728783),l=a.i(498888),m=a.i(384674),n=a.i(21679),o=a.i(682604),p=a.i(356603);let q=(0,a.i(701269).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var r=a.i(438390),s=a.i(617639);let t=[{type:"estados_financieros",label:"Estados Financieros",description:"Debe actualizarse anualmente en abril",required:!0},{type:"rut",label:"RUT",description:"Registro Único Tributario",required:!0},{type:"camara_comercio",label:"Certificado Cámara de Comercio",description:"Vigencia no mayor a 30 días",required:!0},{type:"certificado_bancario",label:"Certificado Bancario",description:"Para pagos y transferencias",required:!1}];async function u(){let a=await (0,c.createClient)(),{data:{user:u}}=await a.auth.getUser();u||(0,d.redirect)("/auth/login");let{data:v}=await a.from("user_profiles").select("*").eq("id",u.id).single(),{data:w}=await a.from("distributors").select("*").eq("user_id",u.id).single(),x=[];try{let{data:b}=await a.from("distributor_documents").select("*").eq("distributor_id",w?.id).order("uploaded_at",{ascending:!1});x=b||[]}catch(a){}let y=t.filter(a=>a.required).every(a=>{let b=x.find(b=>b.document_type===a.type);return b&&"approved"===b.status});return w?(0,b.jsxs)("div",{className:"container mx-auto py-8 px-4 space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Perfil y Documentos"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Mantén tu información actualizada para operar sin interrupciones"})]}),!y&&(0,b.jsxs)(g.Alert,{variant:"destructive",children:[(0,b.jsx)(n.AlertCircle,{className:"h-4 w-4"}),(0,b.jsxs)(g.AlertDescription,{children:[(0,b.jsx)("strong",{children:"Documentos pendientes:"})," Debes subir y tener aprobados todos los documentos requeridos para que tu cuenta sea activada."]})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Building2,{className:"h-5 w-5"}),"Información de la Empresa"]}),(0,b.jsx)(e.CardDescription,{children:"Datos comerciales de tu empresa"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)(r.DistributorProfileForm,{distributor:w,userProfile:v})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(i.User,{className:"h-5 w-5"}),"Contacto de Compras"]}),(0,b.jsx)(e.CardDescription,{children:"Persona responsable de realizar pedidos"})]}),(0,b.jsx)(e.CardContent,{className:"space-y-4",children:w?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(i.User,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{children:w.contact_name||v?.full_name||"No especificado"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(k.Mail,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{children:w.contact_email||u.email})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(j.Phone,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{children:w.contact_phone||v?.phone||"No especificado"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(l.MapPin,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{children:w.city&&w.state?`${w.city}, ${w.state}`:"No especificado"})]})]}):(0,b.jsx)("p",{className:"text-muted-foreground",children:"Completa la información de tu empresa primero"})})]}),(0,b.jsxs)(e.Card,{className:"lg:col-span-2",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(m.FileText,{className:"h-5 w-5"}),"Documentos Requeridos"]}),(0,b.jsx)(e.CardDescription,{children:"Sube los documentos necesarios para activar tu cuenta. Los estados financieros deben actualizarse cada año en abril para mantener tu cupo de crédito."})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:t.map(a=>{var c;let d,g=(c=a.type,(d=x.find(a=>a.document_type===c))?"approved"===d.status?{status:"approved",label:"Aprobado",variant:"default"}:"rejected"===d.status?{status:"rejected",label:"Rechazado",variant:"destructive"}:"expired"===d.status?{status:"expired",label:"Vencido",variant:"secondary"}:{status:"pending",label:"Pendiente revisión",variant:"outline"}:{status:"missing",label:"No subido",variant:"destructive"}),h=x.find(b=>b.document_type===a.type);return(0,b.jsxs)(e.Card,{className:"border",children:[(0,b.jsx)(e.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[a.label,a.required&&(0,b.jsx)("span",{className:"text-xs text-red-500",children:"*"})]}),(0,b.jsx)(e.CardDescription,{className:"text-xs",children:a.description})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(a=>{switch(a){case"approved":return(0,b.jsx)(o.CheckCircle,{className:"h-4 w-4 text-green-600"});case"rejected":return(0,b.jsx)(q,{className:"h-4 w-4 text-red-600"});case"pending":return(0,b.jsx)(p.Clock,{className:"h-4 w-4 text-amber-600"});case"expired":return(0,b.jsx)(n.AlertCircle,{className:"h-4 w-4 text-gray-600"});default:return(0,b.jsx)(n.AlertCircle,{className:"h-4 w-4 text-red-600"})}})(g.status),(0,b.jsx)(f.Badge,{variant:g.variant,children:g.label})]})]})}),(0,b.jsx)(e.CardContent,{children:h&&"rejected"!==h.status?(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:h.file_name}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Subido: ",new Date(h.uploaded_at).toLocaleDateString()]}),h.file_url&&(0,b.jsx)("a",{href:h.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",children:"Ver documento"})]}):(0,b.jsx)(s.DocumentUploader,{distributorId:w?.id,documentType:a.type,onUploadComplete:()=>{}})})]},a.type)})})})]})]})]}):(0,b.jsx)("div",{className:"container mx-auto py-8 px-4",children:(0,b.jsxs)(g.Alert,{variant:"destructive",children:[(0,b.jsx)(n.AlertCircle,{className:"h-4 w-4"}),(0,b.jsxs)(g.AlertDescription,{children:[(0,b.jsx)("strong",{children:"Perfil no configurado:"})," No tienes un perfil de distribuidor configurado. Por favor contacta al administrador."]})]})})}a.s(["default",()=>u],210996)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__7206424f._.js.map