module.exports=[137936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(211857)},713095,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},813391,a=>{"use strict";var b=a.i(137936),c=a.i(998310),d=a.i(118558);async function e(a){let b=await (0,c.createClient)(),{data:{user:e}}=await b.auth.getUser();if(!e)return{error:"Debes iniciar sesión"};let f=a.get("name"),g=a.get("description"),h="on"===a.get("is_public"),i=crypto.randomUUID().replace(/-/g,""),{data:j,error:k}=await b.from("wishlists").insert({user_id:e.id,name:f,description:g||null,is_public:h,share_token:i}).select("id").single();return k?{error:k.message}:((0,d.revalidatePath)("/perfil/wishlists"),{success:!0,wishlistId:j.id})}async function f(a,b,e=1){let g=await (0,c.createClient)(),{data:{user:h}}=await g.auth.getUser();if(!h)return{error:"Debes iniciar sesión"};let{data:i}=await g.from("wishlists").select("user_id").eq("id",a).single();if(!i||i.user_id!==h.id)return{error:"No tienes permiso para modificar esta lista"};let{error:j}=await g.from("wishlist_items").upsert({wishlist_id:a,product_id:b,quantity:e},{onConflict:"wishlist_id,product_id"});return j?{error:j.message}:((0,d.revalidatePath)(`/perfil/wishlists/${a}`),{success:!0})}async function g(a,b){let e=await (0,c.createClient)(),{data:{user:f}}=await e.auth.getUser();if(!f)return{error:"Debes iniciar sesión"};let{error:g}=await e.from("wishlist_items").delete().eq("wishlist_id",a).eq("product_id",b);return g?{error:g.message}:((0,d.revalidatePath)(`/perfil/wishlists/${a}`),{success:!0})}async function h(a,b){let e=await (0,c.createClient)(),{data:{user:f}}=await e.auth.getUser();if(!f)return{error:"Debes iniciar sesión"};let g=b.get("name"),h=b.get("description"),i="on"===b.get("is_public"),{error:j}=await e.from("wishlists").update({name:g,description:h||null,is_public:i}).eq("id",a).eq("user_id",f.id);return j?{error:j.message}:((0,d.revalidatePath)(`/perfil/wishlists/${a}`),(0,d.revalidatePath)("/perfil/wishlists"),{success:!0})}async function i(a){let b=await (0,c.createClient)(),{data:{user:e}}=await b.auth.getUser();if(!e)return{error:"Debes iniciar sesión"};let{error:f}=await b.from("wishlists").delete().eq("id",a).eq("user_id",e.id);return f?{error:f.message}:((0,d.revalidatePath)("/perfil/wishlists"),{success:!0})}(0,a.i(713095).ensureServerEntryExports)([e,f,g,h,i]),(0,b.registerServerReference)(e,"407090c30b1824c4f8e6bed99f89884aca54508176",null),(0,b.registerServerReference)(f,"708d0a9caff1a19a20a5ff01261ebe7ec8450ce483",null),(0,b.registerServerReference)(g,"60895c9889a4f30762bd0e5eb9d4d9e78622e01fd7",null),(0,b.registerServerReference)(h,"608184fa88a9154b37e5252ac850ad2c7533a3142a",null),(0,b.registerServerReference)(i,"40b9a0b9ef7a3b60bc4a6c7617f6e735bb92113bf9",null),a.s(["addToWishlistAction",()=>f,"createWishlistAction",()=>e])},649779,a=>{"use strict";var b=a.i(813391);a.s([],561842),a.i(561842),a.s(["407090c30b1824c4f8e6bed99f89884aca54508176",()=>b.createWishlistAction],649779)}];

//# sourceMappingURL=_ae372bd8._.js.map