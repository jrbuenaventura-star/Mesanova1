module.exports=[49168,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ProductImageGallery() from the server but ProductImageGallery is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/products/product-image-gallery.tsx <module evaluation>","ProductImageGallery");a.s(["ProductImageGallery",0,b])},46716,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ProductImageGallery() from the server but ProductImageGallery is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/products/product-image-gallery.tsx","ProductImageGallery");a.s(["ProductImageGallery",0,b])},57674,a=>{"use strict";a.i(49168);var b=a.i(46716);a.n(b)},59633,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call AddToCartButton() from the server but AddToCartButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/products/add-to-cart-button.tsx <module evaluation>","AddToCartButton");a.s(["AddToCartButton",0,b])},19088,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call AddToCartButton() from the server but AddToCartButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/products/add-to-cart-button.tsx","AddToCartButton");a.s(["AddToCartButton",0,b])},21107,a=>{"use strict";a.i(59633);var b=a.i(19088);a.n(b)},65900,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call AddToListButton() from the server but AddToListButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/products/add-to-list-button.tsx <module evaluation>","AddToListButton");a.s(["AddToListButton",0,b])},8254,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call AddToListButton() from the server but AddToListButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/products/add-to-list-button.tsx","AddToListButton");a.s(["AddToListButton",0,b])},32389,a=>{"use strict";a.i(65900);var b=a.i(8254);a.n(b)},89048,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ProductReviews() from the server but ProductReviews is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/products/product-reviews.tsx <module evaluation>","ProductReviews");a.s(["ProductReviews",0,b])},49926,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ProductReviews() from the server but ProductReviews is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/products/product-reviews.tsx","ProductReviews");a.s(["ProductReviews",0,b])},9126,a=>{"use strict";a.i(89048);var b=a.i(49926);a.n(b)},89677,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call TrackProductView() from the server but TrackProductView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/products/track-product-view.tsx <module evaluation>","TrackProductView");a.s(["TrackProductView",0,b])},31949,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call TrackProductView() from the server but TrackProductView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/products/track-product-view.tsx","TrackProductView");a.s(["TrackProductView",0,b])},31830,a=>{"use strict";a.i(89677);var b=a.i(31949);a.n(b)},52205,a=>{"use strict";var b=a.i(7997),c=a.i(95936);a.i(70396);var d=a.i(73727),e=a.i(67713),f=a.i(98310),g=a.i(22842),h=a.i(40088),i=a.i(43917),j=a.i(20407),k=a.i(96690),l=a.i(54740),m=a.i(87953),n=a.i(51302),o=a.i(82604);let p=(0,a.i(1269).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var q=a.i(57674),r=a.i(8540),s=a.i(21107),t=a.i(14765),u=a.i(32389),v=a.i(9126),w=a.i(31830);async function x({params:a}){let{slug:x}=await a,y=await (0,e.getProductBySlug)(x);y||(0,d.notFound)();let z=await (0,f.createClient)(),{data:{user:A}}=await z.auth.getUser(),B=!1,C=[],D=[];if(A){let[a,b,c]=await Promise.all([(0,g.isProductFavorited)(A.id,y.id),(0,g.getUserWishlists)(A.id),(0,g.getUserGiftRegistries)(A.id)]);B=a,C=(b||[]).map(a=>({id:a.id,name:a.name})),D=(c||[]).filter(a=>"active"===a.status).map(a=>({id:a.id,name:a.name}))}let[E,F]=await Promise.all([(0,g.getProductReviews)(y.id,10),(0,g.getProductRatingStats)(y.id)]),G=[{url:y.imagen_principal_url||"/placeholder.svg?height=600&width=600",alt:y.nombre_comercial||y.pdt_descripcion},...y.media?.filter(a=>"image"===a.media_type).map(a=>({url:a.url,alt:a.alt_text||y.nombre_comercial||""}))||[]],H=y.media?.filter(a=>"video"===a.media_type)||[],I=y.warehouse_stock?.reduce((a,b)=>a+b.available_quantity,0)||0,J=I>0,K=y.similar_products||[],L=y.complement_products||[],M=y.categories?.find(a=>a.is_primary);return(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsx)(w.TrackProductView,{productId:y.id,userId:A?.id}),(0,b.jsx)("nav",{className:"mb-6 text-sm",children:(0,b.jsxs)("ol",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/",className:"hover:text-foreground",children:"Inicio"})}),(0,b.jsx)("li",{children:"/"}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/productos",className:"hover:text-foreground",children:"Productos"})}),M?.subcategory?.silo&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("li",{children:"/"}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:`/productos/${M.subcategory.silo.slug}`,className:"hover:text-foreground",children:M.subcategory.silo.name})})]}),(0,b.jsx)("li",{children:"/"}),(0,b.jsx)("li",{className:"text-foreground font-medium",children:y.nombre_comercial||y.pdt_descripcion})]})}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12 mb-12",children:[(0,b.jsx)("div",{children:(0,b.jsx)(q.ProductImageGallery,{images:G,productName:y.nombre_comercial||y.pdt_descripcion})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[y.is_new&&(0,b.jsx)(h.Badge,{variant:"default",children:"Nuevo"}),y.is_featured&&(0,b.jsx)(h.Badge,{variant:"secondary",children:"Destacado"}),y.is_on_sale&&(0,b.jsx)(h.Badge,{variant:"destructive",children:"En Oferta"}),y.collection&&(0,b.jsxs)(h.Badge,{variant:"outline",children:["Colección: ",y.collection.name]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:y.nombre_comercial||y.pdt_descripcion}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Código: ",y.pdt_codigo]})]}),(0,b.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,b.jsxs)("span",{className:"text-4xl font-bold",children:["$",y.precio?.toFixed(2)]}),y.is_on_sale&&(0,b.jsxs)("span",{className:"text-2xl text-muted-foreground line-through",children:["$",(1.2*y.precio).toFixed(2)]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"flex items-center gap-2",children:J?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.CheckCircle,{className:"h-5 w-5 text-green-600"}),(0,b.jsxs)("span",{className:"text-green-600 font-medium",children:["En stock (",I," unidades)"]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p,{className:"h-5 w-5 text-red-600"}),(0,b.jsx)("span",{className:"text-red-600 font-medium",children:"Sin stock"})]})}),y.warehouse_stock&&y.warehouse_stock.length>0&&(0,b.jsx)("div",{className:"text-sm text-muted-foreground space-y-1",children:y.warehouse_stock.filter(a=>a.warehouse?.show_in_frontend).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{children:[a.warehouse?.name,":"]}),(0,b.jsx)("span",{className:a.available_quantity>0?"text-green-600":"text-red-600",children:a.available_quantity>0?`${a.available_quantity} disponibles`:"Agotado"})]},a.id))})]}),(y.pdt_empaque||y.outer_pack)&&(0,b.jsxs)("div",{className:"flex gap-4 text-sm",children:[y.pdt_empaque&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Package,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("span",{children:["Inner Pack: ",y.pdt_empaque]})]}),y.outer_pack&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Package,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("span",{children:["Outer Pack: ",y.outer_pack]})]})]}),(y.material||y.color||y.marca||y.capacidad)&&(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm border rounded-lg p-4 bg-muted/30",children:[y.marca&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Marca:"}),(0,b.jsx)("span",{className:"ml-2 font-medium",children:y.marca})]}),y.material&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Material:"}),(0,b.jsx)("span",{className:"ml-2 font-medium",children:y.material})]}),y.color&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Color:"}),(0,b.jsx)("span",{className:"ml-2 font-medium",children:y.color})]}),y.capacidad&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Capacidad:"}),(0,b.jsx)("span",{className:"ml-2 font-medium",children:y.capacidad})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s.AddToCartButton,{product:y,disabled:!J}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(t.FavoriteButton,{productId:y.id,initialIsFavorite:B,variant:"button",className:"flex-1"}),(0,b.jsxs)(i.Button,{variant:"outline",className:"flex-1 bg-transparent",children:[(0,b.jsx)(l.Share2,{className:"h-4 w-4 mr-2"}),"Compartir"]})]}),(0,b.jsx)(u.AddToListButton,{productId:y.id,wishlists:C,giftRegistries:D})]}),(0,b.jsxs)("div",{className:"border rounded-lg p-4 space-y-2 bg-muted/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(n.Truck,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsx)("span",{className:"font-medium",children:"Envío disponible"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Envío gratis en compras superiores a $200.000"})]}),y.categories&&y.categories.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-2",children:"Categorías:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:y.categories.map(a=>(0,b.jsx)(h.Badge,{variant:"outline",children:(0,b.jsx)(c.default,{href:`/productos/${a.subcategory?.silo?.slug}#${a.subcategory?.slug}`,children:a.subcategory?.name})},a.id))})]}),y.product_types&&y.product_types.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-2",children:"Tipo de producto:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:y.product_types.map(a=>(0,b.jsx)(h.Badge,{variant:"secondary",children:a.product_type?.name},a.id))})]})]})]}),(0,b.jsx)(j.Separator,{className:"my-8"}),(0,b.jsxs)(k.Tabs,{defaultValue:"description",className:"mb-12",children:[(0,b.jsxs)(k.TabsList,{className:"grid w-full grid-cols-4 md:grid-cols-6",children:[(0,b.jsx)(k.TabsTrigger,{value:"description",children:"Descripción"}),(0,b.jsx)(k.TabsTrigger,{value:"specs",children:"Especificaciones"}),(0,b.jsxs)(k.TabsTrigger,{value:"reviews",children:["Reseñas (",F.total,")"]}),(y.instrucciones_uso||y.instrucciones_cuidado||y.garantia)&&(0,b.jsx)(k.TabsTrigger,{value:"instructions",children:"Instrucciones"}),H.length>0&&(0,b.jsx)(k.TabsTrigger,{value:"videos",children:"Videos"}),(0,b.jsx)(k.TabsTrigger,{value:"shipping",children:"Envío"})]}),(0,b.jsx)(k.TabsContent,{value:"description",className:"mt-6",children:(0,b.jsxs)("div",{className:"prose max-w-none",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Descripción del Producto"}),(0,b.jsx)("p",{className:"text-muted-foreground leading-relaxed",children:y.descripcion_larga||y.pdt_descripcion}),y.caracteristicas&&(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold mb-3",children:"Características"}),(0,b.jsx)("p",{className:"text-muted-foreground whitespace-pre-line",children:y.caracteristicas})]})]})}),(0,b.jsxs)(k.TabsContent,{value:"specs",className:"mt-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Especificaciones Técnicas"}),(0,b.jsxs)("div",{className:"grid gap-2",children:[y.dimensiones&&(0,b.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,b.jsx)("span",{className:"font-medium",children:"Dimensiones:"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:y.dimensiones})]}),y.peso&&(0,b.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,b.jsx)("span",{className:"font-medium",children:"Peso:"}),(0,b.jsxs)("span",{className:"text-muted-foreground",children:[y.peso," kg"]})]}),y.pais_origen&&(0,b.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,b.jsx)("span",{className:"font-medium",children:"País de Origen:"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:y.pais_origen})]}),y.linea_producto&&(0,b.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,b.jsx)("span",{className:"font-medium",children:"Línea:"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:y.linea_producto})]}),y.especificaciones_tecnicas&&Object.keys(y.especificaciones_tecnicas).length>0&&(0,b.jsx)(b.Fragment,{children:Object.entries(y.especificaciones_tecnicas).map(([a,c])=>(0,b.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,b.jsxs)("span",{className:"font-medium capitalize",children:[a.replace(/_/g," "),":"]}),(0,b.jsx)("span",{className:"text-muted-foreground",children:String(c)})]},a))})]})]}),(0,b.jsx)(k.TabsContent,{value:"reviews",className:"mt-6",children:(0,b.jsx)(v.ProductReviews,{productId:y.id,reviews:(E.reviews||[]).map(a=>({...a,user:Array.isArray(a.user)?a.user[0]:a.user})),stats:F,currentUserId:A?.id})}),(y.instrucciones_uso||y.instrucciones_cuidado||y.garantia)&&(0,b.jsx)(k.TabsContent,{value:"instructions",className:"mt-6",children:(0,b.jsxs)("div",{className:"space-y-6",children:[y.instrucciones_uso&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Instrucciones de Uso"}),(0,b.jsx)("p",{className:"text-muted-foreground whitespace-pre-line leading-relaxed",children:y.instrucciones_uso})]}),y.instrucciones_cuidado&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Cuidado y Mantenimiento"}),(0,b.jsx)("p",{className:"text-muted-foreground whitespace-pre-line leading-relaxed",children:y.instrucciones_cuidado})]}),y.garantia&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Garantía"}),(0,b.jsx)("p",{className:"text-muted-foreground whitespace-pre-line leading-relaxed",children:y.garantia})]})]})}),H.length>0&&(0,b.jsxs)(k.TabsContent,{value:"videos",className:"mt-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Videos del Producto"}),(0,b.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:H.map(a=>(0,b.jsx)("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:(0,b.jsx)("iframe",{src:a.url,title:a.title||"Video del producto",className:"w-full h-full",allowFullScreen:!0})},a.id))})]}),(0,b.jsx)(k.TabsContent,{value:"shipping",className:"mt-6",children:(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Envíos"}),(0,b.jsxs)("ul",{className:"space-y-2 text-muted-foreground",children:[(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)(o.CheckCircle,{className:"h-5 w-5 text-green-600 mt-0.5"}),(0,b.jsx)("span",{children:"Envío gratis en compras superiores a $200.000"})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)(o.CheckCircle,{className:"h-5 w-5 text-green-600 mt-0.5"}),(0,b.jsx)("span",{children:"Entrega en 2-5 días hábiles"})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)(o.CheckCircle,{className:"h-5 w-5 text-green-600 mt-0.5"}),(0,b.jsx)("span",{children:"Seguimiento de pedido en tiempo real"})]})]})]})})})]}),K.length>0&&(0,b.jsxs)("section",{className:"mb-12",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Productos Similares"}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:K.slice(0,4).map(a=>(0,b.jsx)(r.ProductCard,{product:a},a.id))})]}),L.length>0&&(0,b.jsxs)("section",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Productos Complementarios"}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:L.slice(0,4).map(a=>(0,b.jsx)(r.ProductCard,{product:a},a.id))})]})]})}async function y({params:a}){let{slug:b}=await a,c=await (0,e.getProductBySlug)(b);return c?{title:c.seo_title||c.nombre_comercial||c.pdt_descripcion,description:c.seo_description||c.descripcion_larga||c.pdt_descripcion,keywords:c.seo_keywords?.join(", "),openGraph:{title:c.nombre_comercial||c.pdt_descripcion,description:c.descripcion_larga||c.pdt_descripcion,images:c.imagen_principal_url?[c.imagen_principal_url]:[]}}:{title:"Producto no encontrado"}}a.s(["default",()=>x,"generateMetadata",()=>y],52205)}];

//# sourceMappingURL=_f1a8b423._.js.map